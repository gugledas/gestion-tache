{"version":3,"sources":["webpack://gestionTache/./src/views/pages/Login.vue?efef","webpack://gestionTache/src/views/pages/Login.vue","webpack://gestionTache/./src/views/pages/Login.vue?92b0","webpack://gestionTache/./src/views/pages/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","validUserInfo","_v","invalidUser","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","user","expression","invalidPass","invalidFeedback","pass","_e","staticRenderFns","name","data","isloading","mounted","connect","methods","event","preventDefault","console","log","reponse","username","password","window","localStorage","clear","setItem","JSON","stringify","component"],"mappings":"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","file":"gestionTache.umd.min.17.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-app flex-row align-items-center\"},[_c('CContainer',[_c('CRow',{staticClass:\"justify-content-center\"},[_c('CCol',{attrs:{\"md\":\"8\"}},[_c('CCardGroup',[_c('CCard',{staticClass:\"p-4\"},[_c('CCardBody',[_c('CForm',{attrs:{\"novalidation\":\"\"},on:{\"submit\":_vm.validUserInfo}},[_c('h1',[_vm._v(\"Connexion\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Connecter-vous à votre compte\")]),_c('CInput',{attrs:{\"placeholder\":\"Username\",\"isValid\":_vm.invalidUser,\"required\":\"\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-user\"}})]},proxy:true}]),model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}),_c('CInput',{attrs:{\"placeholder\":\"Password\",\"type\":\"password\",\"isValid\":_vm.invalidPass,\"invalidFeedback\":_vm.invalidFeedback,\"required\":\"\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-lock-locked\"}})]},proxy:true}]),model:{value:(_vm.pass),callback:function ($$v) {_vm.pass=$$v},expression:\"pass\"}}),_c('CRow',{staticClass:\"flex-wrap d-flex\",attrs:{\"align-vertical\":\"center\"}},[_c('CCol',{staticClass:\"text-left col-12 col-sm-6\"},[_c('CButton',{staticClass:\"px-2 w-100 d-flex justify-content-around align-items-center \",attrs:{\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" Se connecter \"),(_vm.isloading)?_c('CSpinner',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"color\":\"secondary\"}}):_vm._e()],1)],1),_c('CCol',{staticClass:\"text-right col-12 col-sm-6\"},[_c('CButton',{staticClass:\"px-0\",attrs:{\"color\":\"link\"}},[_vm._v(\" Forgot password? \")]),_c('CButton',{staticClass:\"d-lg-none\",attrs:{\"color\":\"link\"}},[_vm._v(\" Register now! \")])],1)],1)],1)],1)],1),_c('CCard',{staticClass:\"text-center py-5 d-lg-down-none\",attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"body-wrapper\":\"\"}},[_c('CCardBody',[_c('h2',[_vm._v(\"Gestion des tâches\")]),_c('p',[_vm._v(\" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \")])])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"c-app flex-row align-items-center\">\n    <CContainer>\n      <CRow class=\"justify-content-center\">\n        <CCol md=\"8\">\n          <CCardGroup>\n            <CCard class=\"p-4\">\n              <CCardBody>\n                <CForm novalidation  @submit=\"validUserInfo\">\n                  <h1>Connexion</h1>\n                  <p class=\"text-muted\">Connecter-vous à votre compte</p>\n                  <CInput placeholder=\"Username\" v-model=\"user\" :isValid=\"invalidUser\" required >\n                    <template #prepend-content\n                      ><CIcon name=\"cil-user\"\n                    /></template>\n                  </CInput>\n                  <CInput\n                    placeholder=\"Password\"\n                    type=\"password\"\n                    v-model=\"pass\"\n                    :isValid=\"invalidPass\"\n                    :invalidFeedback=\"invalidFeedback\"\n                   required\n                  >\n                    <template #prepend-content\n                      ><CIcon name=\"cil-lock-locked\"\n                    /></template>\n                  </CInput>\n                  <CRow align-vertical=\"center\" class=\"flex-wrap d-flex\">\n                    <CCol   class=\"text-left col-12 col-sm-6\">\n                      <CButton color=\"primary\" class=\"px-2 w-100 d-flex justify-content-around align-items-center \" type=\"submit\" >\n                        Se connecter <CSpinner size=\"sm\" v-if=\"isloading\" class=\"ml-2\" color=\"secondary\"/>\n                      </CButton>\n                    </CCol>\n                    <CCol  class=\"text-right col-12 col-sm-6\">\n                      <CButton color=\"link\" class=\"px-0\">\n                        Forgot password?\n                      </CButton>\n                      <CButton color=\"link\" class=\"d-lg-none\">\n                        Register now!\n                      </CButton>\n                    </CCol>\n                  </CRow>\n                </CForm>\n              </CCardBody>\n            </CCard>\n            <CCard\n              color=\"primary\"\n              text-color=\"white\"\n              class=\"text-center py-5 d-lg-down-none\"\n              body-wrapper\n            >\n              <CCardBody>\n                <h2>Gestion des tâches</h2>\n                <p>\n                  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed\n                  do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n                </p>\n                <!-- <CButton color=\"light\" variant=\"outline\" size=\"lg\">\n                  Register Now!\n                </CButton> -->\n              </CCardBody>\n            </CCard>\n          </CCardGroup>\n        </CCol>\n      </CRow>\n    </CContainer>\n  </div>\n</template>\n\n<script>\n import connect from \"../../connect\";\nexport default {\n  name: \"Login\",\n  data(){\n    return {\n      invalidFeedback: \"nom d'utilisateur ou mot de passe incorrect\",\n      user: \"\",\n      pass: \"\",\n      invalidPass: null,\n      invalidUser: null,\n      isloading: false\n    }\n  },\n  mounted() {\nconnect.checkUserLogin();\n  },\n  methods: {\n    validUserInfo() {\n      //let self = this\n      event.preventDefault()\n      this.isloading= true\n      connect.testLogin(this.user,this.pass).then(reponse=> {\n        console.log('login res', reponse)\n        \n        let user = {\n          username: this.user,\n          password: this.pass\n        }\n        \n        if(reponse && reponse.data && reponse.data.uid) {\n          window.localStorage.clear();\n          localStorage.setItem('current_user',JSON.stringify(reponse.data.uid[0].value))\n       \n        }\n        \n        \n        window.localStorage.setItem('user', JSON.stringify(user))\n         if(window.location.href != window.document.referrer) {\n             \n         window.location.href = window.document.referrer\n        }else  {\n         window.location.href = window.location.origin\n        }\n        this.isloading= false\n      },(er)=> {\n        console.log('error',er)\n        if(er && er.error && er.error.statusText) {\n          this.invalidFeedback = er.error.statusText\n        }\n        this.isloading= false\n        this.invalidPass= false\n        \n       // console.log('login error', error)\n      })\n      \n    }\n  },\n};\n/* \nlorsqu'un utilisateur arrive \n  on verifie s'il existe des données dans le localstorage = user\n    si oui \n      rien ne se passe  \n    SINON\n      on le redirige vers la page de login\n      ils entre ses identifiants\n        si requête renvoie ok\n         on stoque ses information dans le localstorage user ensuite on le redirige à l'acceuil\n*/\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4c887834&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}