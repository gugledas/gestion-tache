(("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]=("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]||[]).push([[9],{"4c27":function(t,e,o){"use strict";o.r(e),o.d(e,"CChartLineSimple",(function(){return m})),o.d(e,"CChartBarSimple",(function(){return w})),o.d(e,"CChartLineExample",(function(){return B})),o.d(e,"CChartBarExample",(function(){return T})),o.d(e,"CChartDoughnutExample",(function(){return z})),o.d(e,"CChartRadarExample",(function(){return q})),o.d(e,"CChartPieExample",(function(){return tt})),o.d(e,"CChartPolarAreaExample",(function(){return it}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartLine",{attrs:{datasets:t.computedDatasets,options:t.computedOptions,labels:t.labels}})},r=[],a=o("f485"),i=o("9621"),s=o("88a8");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){d(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function d(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var u={name:"CChartLineSimple",components:{CChartLine:a["CChartLine"]},props:c(c({},a["CChartLine"].props),{},{borderColor:{type:String,default:"rgba(255,255,255,.55)"},backgroundColor:{type:String,default:"transparent"},dataPoints:{type:Array,default:function(){return[10,22,34,46,58,70,46,23,45,78,34,12]}},label:{type:String,default:"Sales"},pointed:Boolean,pointHoverBackgroundColor:String}),computed:{pointHoverColor:function(){return this.pointHoverBackgroundColor?this.pointHoverBackgroundColor:"transparent"!==this.backgroundColor?this.backgroundColor:this.borderColor},defaultDatasets:function(){return[{data:this.dataPoints,borderColor:Object(i["a"])(this.borderColor),backgroundColor:Object(i["a"])(this.backgroundColor),pointBackgroundColor:Object(i["a"])(this.pointHoverColor),pointHoverBackgroundColor:Object(i["a"])(this.pointHoverColor),label:this.label}]},pointedOptions:function(){return{scales:{xAxes:[{offset:!0,gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,this.dataPoints)-5,max:Math.max.apply(Math,this.dataPoints)+5}}]},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}},straightOptions:function(){return{scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4}}}},defaultOptions:function(){var t=this.pointed?this.pointedOptions:this.straightOptions;return Object.assign({},t,{maintainAspectRatio:!1,legend:{display:!1}})},computedDatasets:function(){return Object(s["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(s["a"])(this.defaultOptions,this.options||{})}}},p=u,f=o("2877"),h=Object(f["a"])(p,n,r,!1,null,null,null),m=h.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartBar",{attrs:{datasets:t.computedDatasets,options:t.computedOptions,labels:t.labels}})},b=[];function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?C(Object(o),!0).forEach((function(e){y(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function y(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var j={name:"CChartBarSimple",components:{CChartBar:a["CChartBar"]},props:v(v({},a["CChartBar"].props),{},{backgroundColor:{type:String,default:"rgba(0,0,0,.2)"},pointHoverBackgroundColor:String,dataPoints:{type:Array,default:function(){return[10,22,34,46,58,70,46,23,45,78,34,12]}},label:{type:String,default:"Sales"},pointed:Boolean}),computed:{defaultDatasets:function(){return[{data:this.dataPoints,backgroundColor:Object(i["a"])(this.backgroundColor),pointHoverBackgroundColor:Object(i["a"])(this.pointHoverBackgroundColor),label:this.label,barPercentage:.5,categoryPercentage:1}]},defaultOptions:function(){return{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},computedDatasets:function(){return Object(s["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(s["a"])(this.defaultOptions,this.options||{})}}},O=j,_=Object(f["a"])(O,g,b,!1,null,null,null),w=_.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartLine",{attrs:{datasets:t.defaultDatasets,labels:"months"}})},x=[],D={name:"CChartLineExample",components:{CChartLine:a["CChartLine"]},computed:{defaultDatasets:function(){return[{label:"Data One",backgroundColor:"rgb(228,102,81,0.9)",data:[30,39,10,50,30,70,35]},{label:"Data Two",backgroundColor:"rgb(0,216,255,0.9)",data:[39,80,40,35,40,20,45]}]}}},k=D,E=Object(f["a"])(k,P,x,!1,null,null,null),B=E.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartBar",{attrs:{datasets:t.defaultDatasets,labels:"months"}})},A=[],L={name:"CChartBarExample",components:{CChartBar:a["CChartBar"]},computed:{defaultDatasets:function(){return[{label:"GitHub Commits",backgroundColor:"#f87979",data:[40,20,12,39,10,40,39,80,40,20,12,11]}]}}},H=L,M=Object(f["a"])(H,S,A,!1,null,null,null),T=M.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartDoughnut",{attrs:{datasets:t.defaultDatasets,labels:["VueJs","EmberJs","ReactJs","AngularJs"]}})},Y=[],I={name:"CChartDoughnutExample",components:{CChartDoughnut:a["CChartDoughnut"]},computed:{defaultDatasets:function(){return[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]}}},$=I,F=Object(f["a"])($,R,Y,!1,null,null,null),z=F.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartRadar",{attrs:{datasets:t.defaultDatasets,options:t.defaultOptions,labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"]}})},U=[],N={name:"CChartRadarExample",components:{CChartRadar:a["CChartRadar"]},computed:{defaultDatasets:function(){return[{label:"2019",backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgba(179,181,198,1)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",tooltipLabelColor:"rgba(179,181,198,1)",data:[65,59,90,81,56,55,40]},{label:"2020",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",tooltipLabelColor:"rgba(255,99,132,1)",data:[28,48,40,19,96,27,100]}]},defaultOptions:function(){return{aspectRatio:1.5}}}},V=N,W=Object(f["a"])(V,J,U,!1,null,null,null),q=W.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartPie",{attrs:{datasets:t.defaultDatasets,labels:["Project","Tâches","Memos","Bugs","Corrigés","test","À-faire"]}})},K=[],Q={name:"CChartPieExample",components:{CChartPie:a["CChartPie"]},computed:{defaultDatasets:function(){return[{backgroundColor:["rgb(21, 65, 238)","rgb(238, 214, 34)","rgb(21, 223, 238)","rgb(245, 71, 40)","rgb(40, 245, 98)","rgb(186, 75, 145)","rgb(180, 91, 225)"],data:[20,30,20,12,15,25,10]}]}}},X=Q,Z=Object(f["a"])(X,G,K,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CChartPolarArea",{attrs:{datasets:t.defaultDatasets,options:t.defaultOptions,labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"]}})},ot=[],nt={name:"CChartPolarAreaExample",components:{CChartPolarArea:a["CChartPolarArea"]},computed:{defaultDatasets:function(){return[{label:"My First dataset",backgroundColor:"rgba(179,181,198,0.2)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(179,181,198,1)",pointHoverBorderColor:"rgba(179,181,198,1)",data:[65,59,90,81,56,55,40]},{label:"My Second dataset",backgroundColor:"rgba(255,99,132,0.2)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(255,99,132,1)",pointHoverBorderColor:"rgba(255,99,132,1)",data:[28,48,40,19,96,27,100]}]},defaultOptions:function(){return{aspectRatio:1.5}}}},rt=nt,at=Object(f["a"])(rt,et,ot,!1,null,null,null),it=at.exports},"75c4":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("CRow",[o("filtre-project",{on:{"ev-filter":t.EvFilter}})],1),t.spinner?o("CRow",[o("CSpinner",{staticClass:"mx-auto mt-5",staticStyle:{width:"4rem",height:"4rem"},attrs:{tag:"div",color:"primary"}})],1):t._e(),t.spinner?t._e():o("CRow",[o("CCol",{attrs:{md:"12"}},[o("card-jsx",{attrs:{dataLoad:t.dataLoad},on:{"modal-edit-on":t.modalEditOn,"Hide-type-project":t.HideTypeProject,"suppression-ok":t.LoadProjectData,"suppression-error":t.addnewError,"change-parent":t.changeParent,"edition-ok":t.LoadProjectData,"edition-error":t.addnewError}})],1),o("CModal",{attrs:{size:"lg",title:"Nouveau projet",color:"info",show:t.addingModal,closeOnBackdrop:!1},on:{"update:show":function(e){t.addingModal=e}}},[o("PopUpContent",{ref:"child",attrs:{"form-values":t.dataOfFormAdd,utilisateur:t.utilisateur,level:t.level,"btn-state":t.btnStateAdd},on:{"addnew-ok":t.LoadProjectData,"addnew-error":t.addnewError}}),o("template",{slot:"footer"},[o("div",{staticClass:"d-flex justify-content-end mr-3"},[o("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.addingModal=!1}}},[t._v(" Cancel ")]),o("CButton",{staticClass:"mx-1 d-flex align-items-center",attrs:{color:t.btnStateAdd.state?"info":"light",desabled:""},on:{click:t.AddNewTask}},[t._v("Save "),t.spinner?o("CSpinner",{staticClass:"mx-2",staticStyle:{width:"0.8rem",height:"0.8rem"},attrs:{tag:"div",color:"primary"}}):t._e()],1)],1)])],2),o("CModal",{attrs:{size:"lg",title:"Ressources",color:"light",show:t.modalRessource,closeOnBackdrop:!1},on:{"update:show":function(e){t.modalRessource=e}}},["projet"==t.selected?o("div",{staticClass:"pl-sm-2"},[o("CRow",{staticClass:"d-flex flex-nowrap"},[o("CCol",{attrs:{md:"7"}},[o("CInput",{attrs:{label:"add new ressource",type:t.chooseType,placeholder:t.chooseType},scopedSlots:t._u([{key:"append",fn:function(){return[o("div",[o("CDropdown",{staticClass:"rounded-0",attrs:{"toggler-text":"Type",color:"dark"},on:{click:function(e){t.ressourceToAdd=""}}},[o("CDropdownItem",{on:{click:function(e){t.chooseType="text"}}},[t._v("text")]),o("CDropdownItem",{on:{click:function(e){t.chooseType="file"}}},[t._v("file")])],1),o("CButton",{attrs:{color:"primary"}},[t._v("Add")])],1)]},proxy:!0}],null,!1,1325621333),model:{value:t.ressourceToAdd,callback:function(e){t.ressourceToAdd=e},expression:"ressourceToAdd"}})],1)],1)],1):t._e(),o("template",{slot:"footer"},[o("div",{staticClass:"d-flex justify-content-end mr-3"},[o("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.modalRessource=!1}}},[t._v("Cancel")]),o("CButton",{staticClass:"mx-1",attrs:{color:"info"},on:{click:function(e){t.modalRessource=!1}}},[t._v("ok")])],1)])],2),o("div",[o("CModal",{attrs:{size:"lg",title:"Edition de : "+t.dataOfForm.titre,color:"success",show:t.modalEdit,closeOnBackdrop:!1},on:{"update:show":function(e){t.modalEdit=e}}},[o("PopUpContent",{ref:"edchild",attrs:{"form-values":t.dataOfForm,utilisateur:t.utilisateur,"btn-state":t.btnStateEdit,level:t.level},on:{"edition-ok":t.LoadProjectData,"edition-error":t.addnewError}}),o("template",{slot:"footer"},[o("div",{staticClass:"d-flex justify-content-end mr-3"},[o("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.modalEdit=!1}}},[t._v(" Cancel ")]),o("CButton",{staticClass:"mx-1 d-flex align-items-center",attrs:{color:t.btnStateEdit.state?"success":"light"},on:{click:t.EditModalPost}},[t._v(" Enregistrer les modifications "),t.spinner?o("CSpinner",{staticClass:"mx-2",staticStyle:{width:"0.8rem",height:"0.8rem"},attrs:{tag:"div",color:"primary"}}):t._e()],1)],1)])],2)],1),o("CCol",{attrs:{md:"6"}},[o("CCard",[o("CCardHeader",[t._v(" stats ")]),o("CCardBody",[o("CChartPieExample")],1)],1)],1)],1),o("div",{staticClass:"scroll-top"},[o("CButton",{staticClass:"mx-1",attrs:{color:"warning"},on:{click:t.scrollTop}},[o("CIcon",{staticClass:"text-white",attrs:{name:"cil-chevron-top",height:35,size:"xl"}})],1)],1)],1)},r=[],a=o("4c27"),i=o("1487"),s=o.n(i),l=o("b8a6"),c=o("d111");function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var f={name:"SingleProjectPagetest",props:{idcontents:{type:String,default:"52"}},components:u(u({},a),{},{PopUpContent:function(){return Promise.all([o.e(1),o.e(2),o.e(20)]).then(o.bind(null,"2a5d"))},"card-jsx":function(){return Promise.all([o.e(1),o.e(4)]).then(o.bind(null,"618c"))},"filtre-project":function(){return o.e(15).then(o.bind(null,"f673"))}}),data:function(){return{spinner:!1,dataOfForm:{},dataOfFormAdd:{},btnStateEdit:{state:!1},btnStateAdd:{state:!1},dataLoad:[],idc:null,modalEdit:!1,ressourceToAdd:"",chooseType:"text",show:!0,selected:"projet",addingModal:!1,modalRessource:!1,isCollapsed:!0,editorConfig:{extraPlugins:"codesnippet",codeSnippet_theme:"monokai_sublime"},options:[{value:"projet",label:"Projet"},{value:"tache",label:"Tâche"},{value:"memos",label:"Mémos"}],level:0}},mounted:function(){this.LoadProjectData()},watch:{},computed:{utilisateur:function(){return this.$store.state.utilisateur},modalData:function(){var t=[];return t},textDisplay:function(){var t=document.createElement("div");return t.innerHTML=this.dataLoad.text?this.dataLoad.text:"",t.querySelectorAll("pre code").forEach((function(t){s.a.highlightBlock(t)})),t.outerHTML}},methods:{updateUser:function(){this.LoadProjectData(!1)},changeParent:function(t){console.log("change-ppparent : ",t)},modalEditOn:function(t){console.log("modalEditOn data",t),this.dataOfForm=t,this.modalEdit=!0},evModalEditOn:function(t){console.log("ouverture du poup : ",t)},HideTypeProject:function(t){this.idc=t.idcontents,this.level=parseInt(t.level)+1,this.addingModal=!0,this.$refs.child.changeType(),this.$refs.child.TimeNow()},EditModalPost:function(){this.btnStateEdit.state&&this.$refs.edchild.EditProject()},AddNewTask:function(){this.btnStateAdd.state&&this.$refs.child.PostNewProject(this.idc)},LoadProjectData:function(t){var e=this,o=this;this.spinner=!0,this.isLoading=!0,l["a"].get("/gestion-project/project-with-childs/"+this.idcontents,{headers:{Authorization:l["a"].auth}}).then((function(o){o.status&&(e.dataLoad=c["a"].formCard(o.data),console.log("donnée chargées : ",e.dataLoad),e.isLoading=!1,e.spinner=!1,t&&(e.addingModal=!1,e.modalEdit=!1))})).catch((function(t){console.log("error",t),o.isLoading=!1,o.spinner=!1}))},addnewError:function(){alert("Une erreur s'est produit"),this.spinner=!1},EvFilter:function(t){var e=this,o=this;this.spinner=!0,this.isLoading=!0,l["a"].post("/gestion-project/project-with-childs/"+this.idcontents,t,{headers:{Authorization:l["a"].auth}}).then((function(t){t.status&&(e.dataLoad=c["a"].formCard(t.data),console.log("donnée chargées : ",e.dataLoad),e.isLoading=!1,e.spinner=!1)})).catch((function(t){console.log("error",t),o.isLoading=!1,o.spinner=!1}))},scrollTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},h=f,m=(o("cc0a"),o("2877")),g=Object(m["a"])(h,n,r,!1,null,"c007b6d4",null);e["default"]=g.exports},cc0a:function(t,e,o){"use strict";o("eb44")},d111:function(t,e,o){"use strict";var n=o("c1df"),r=o.n(n);function a(t,e){var o="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=i(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==o.return||o.return()}finally{if(l)throw a}}}}function i(t,e){if(t){if("string"===typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){d(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function d(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var u={formatData:function(t){return new Promise((function(e){console.log("fdate : ",t);var o=[];if(t&&t.titre){var n=r()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),a=r()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix(),i={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"update"};if(t.idcontents&&(i.where=[{column:"idcontents",value:t.idcontents}]),t.date_depart_proposer.length&&t.date_fin_proposer.length){var s={table:"gestion_project_times",fields:{status:t.status,date_depart_proposer:n,date_fin_proposer:a},action:"update",where:[{column:"idcontents",value:t.idcontents}]};1!==parseInt(t.status)||t.date_fin_reel&&""!==t.date_fin_reel||(s.fields.date_fin_reel=r()().unix()),o.push(s)}o.push(i),console.log("ligne",o)}e(o)}))},formatHierarchie:function(t,e){return new Promise((function(o){console.log("fdate : ",e);var n=[];if(t&&t.titre){var r={table:"gestion_project_hierachie",fields:{idcontentsparent:e.id,idcontents:t.idcontents,ordre:e.ordre},action:"update",where:[{column:"idcontents",value:t.idcontents}]};n.push(r),console.log("ligne",n)}o(n)}))},formCard:function(t){var e=[];for(var o in t){var n=t[o];n.cards&&(n.cards=this.formCard(n.cards)),e.push(c(c({},n),{},{open:!1}))}return e},formatAddData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(n){var i=[],s=parseInt(t.status,10);if(o=parseInt(o,10),t.date_depart_proposer.length&&t.date_fin_proposer){var l=r()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),c=r()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix();i.push({table:"gestion_project_times",fields:{date_depart_proposer:l,date_fin_proposer:c,status:s}})}if(i.push({table:"gestion_project_hierachie",fields:{idcontentsparent:e,ordre:0,level:o}}),t.executant&&t.executant.length){var d,u=a(t.executant);try{for(u.s();!(d=u.n()).done;){var p=d.value;i.push({table:"gestion_project_executant",fields:{uid:p["uid"]}})}}catch(m){u.e(m)}finally{u.f()}}var f=[];if(t&&t.titre){var h={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"insert"};h.childstable={colum_id_name:"idcontents",tables:i},f.push(h)}console.log("result ligne",f),n(f)}))},fomatVal:function(t,e,o){return new Promise((function(n){t.idcontents&&(e.idcontents=t.idcontents);var i=function(n){if(t[n])if("date_depart_proposer"===n)e[n]=r.a.unix(t[n]).format("YYYY-MM-DD"),e.heure_debut=r.a.unix(t[n]).format("HH:mm");else if("date_fin_proposer"===n)e[n]=r.a.unix(t[n]).format("YYYY-MM-DD"),e.heure_fin=r.a.unix(t[n]).format("HH:mm");else if("privaty"===n)e[n]="0"!=t[n];else if("executant"===n){e[n]=[];var i,s=a(t[n]);try{var l=function(){var t=i.value;o.forEach((function(o){t.uid==o.uid&&e[n].push(o)}))};for(s.s();!(i=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}}else e[n]=t[n]};for(var s in e)i(s);n()}))},formatDeleteData:function(t){return new Promise((function(e){var o=[];if(t&&t.titre){var n={table:"gestion_project_contents",fields:{},action:"delete"};t.idcontents&&(n.where=[{column:"idcontents",value:t.idcontents}]),n.childstable={tables:[{table:"gestion_project_times",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]},{table:"gestion_project_hierachie",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]},{table:"gestion_project_executant",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]}]},o.push(n),console.log("ligne",o)}e(o)}))},formatDataClient:function(t){return new Promise((function(e){var o=[];if(t&&t.nom){var n={table:"gestion_project_client",fields:{nom:t.nom,uid:t.uid,prenom:t.prenom,phone:t.phone,adresse:t.adresse,fonction:t.fonction,idsociete:t.idsociete},action:"update"};t.idclient&&(n.where=[{column:"idclient",value:t.idclient}]),o.push(n)}e(o)}))},formatDataSte:function(t){return new Promise((function(e){var o=[];if(t&&t.nom){var n={table:"gestion_project_societe",fields:{nom:t.nom,email:t.email,phone:t.phone,adresse:t.adresse,siteweb:t.siteweb},action:"update"};t.idsociete&&(n.where=[{column:"idsociete",value:t.idsociete}]),o.push(n)}e(o)}))},formatDeleteClient:function(t){return new Promise((function(e){var o=[];if(t.idclient){var n={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idclient",value:t.idclient}]};o.push(n),console.log("ligne 1",o)}else if(t.idsociete){n={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};var r={table:"gestion_project_societe",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};o.push(n),o.push(r),console.log("ligne2",o)}e(o)}))},formatAddInvoice:function(t,e){return new Promise((function(o){var n=[],a=r()().unix(),i=r()().unix();if(console.log("fadin :",t),t&&t.numero){var s={table:"gestion_project_invoice",fields:{numero:t.numero,idcontents:""!==t.idcontents?t.idcontents:null,idclients:t.idclients,objet:t.objet,creaated:a,proprietaire:t.proprietaire,updated:i}};1==e&&(s.where=[{column:"numero",value:t.numero}],s.action="update"),n.push(s)}o(n)}))},formatDeleteInvoice:function(t){return new Promise((function(e){var o=[];if(t&&t.numero){var n={table:"gestion_project_invoice",fields:{},action:"delete",where:[{column:"numero",value:t.numero}]},r={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoice",value:t.numero}]};o.push(r),o.push(n)}e(o)}))},formatAddInvoiceList:function(t,e){return new Promise((function(o){var n=[];if(t&&t.titre){var r={table:"gestion_project_invoice_list",fields:{titre:t.titre,idcontents:""!==t.idcontents?t.idcontents:null,description:t.description,cout:t.cout,idinvoice:t.idinvoice}};1==e&&(r.where=[{column:"idinvoicelist",value:t.idinvoicelist}],r.action="update"),n.push(r)}o(n)}))},formatDeleteInvoiceList:function(t){return new Promise((function(e){var o=[];if(console.log("fadin :",t),t&&t.idinvoicelist){var n={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoicelist",value:t.idinvoicelist}]};o.push(n)}e(o)}))}};e["a"]=u},eb44:function(t,e,o){}}]);
//# sourceMappingURL=gestionTache.umd.min.9.js.map