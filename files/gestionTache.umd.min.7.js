(("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]=("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]||[]).push([[7],{1267:function(t,e,s){},"4b85":function(t,e,s){},5724:function(t,e,s){"use strict";s("1267")},"7a34":function(t,e,s){"use strict";s("4b85")},c71b:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.styled?"searchForm":""},[s("multiselect",{attrs:{options:t.project,placeholder:"Tapez une recherche","hide-selected":!0,"max-height":600,"option-height":20,"show-labels":!1,searchable:!0,loading:t.isLoading,"track-by":"titre","internal-search":!0,showPointer:!0,label:"titre"},on:{"search-change":t.TypingSearch},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[s("span",{staticClass:"option__desc d-inline-flex flex-column"},[s("span",{staticClass:"option__title"},[t._v(t._s(e.option.titre))])])]}},{key:"option",fn:function(e){return[t.styled?s("div",{staticClass:"option__desc d-inline-flex flex-column align-items-start"},[s("span",{staticClass:"option__title mb-2"},[s("CIcon",{staticClass:"mr-1 text-info",attrs:{name:"cilFolder"}}),t._v(" "+t._s(e.option.titre)+" ")],1),s("div",{staticClass:"d-flex aling-items-center"},[s("span",{staticClass:"text-info bg-light p-1 mt-2 h6"},[t._v(t._s(e.option.type))]),s("router-link",{attrs:{to:"/projets/"+e.option.idcontents}},[s("CButton",{staticClass:"ml-4",attrs:{variant:"ghost",color:"warning",size:"sm"}},[s("CIcon",{attrs:{name:"cilPencil"}})],1)],1)],1)]):t._e(),t.styled?t._e():s("div",{staticClass:"option__desc d-inline-flex flex-column align-items-start",on:{click:function(s){return t.ParentSelected(e)}}},[s("span",{staticClass:"option__title mb-2"},[s("CIcon",{staticClass:"mr-1 text-dark",attrs:{name:"cilFolder"}}),t._v(" "+t._s(e.option.titre)+" "),s("small",{staticClass:"text-dark p-1 mt-2 ml-2 text-type"},[t._v(t._s(e.option.type))])],1)])]}}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)},n=[],i=s("8e5f"),o=s.n(i),r=s("8bbf"),l=s.n(r),c=s("b8a6");l.a.component("multiselect",o.a);var d={props:{styled:{type:Boolean,default:!1}},components:{Multiselect:o.a},data:function(){return{value:"",searchValue:"",options:["list","of","options"],project:[],isLoading:!1,timer:null}},mounted:function(){},watch:{},computed:{pOptions:function(){var t=[];if(this.project.length)for(var e in this.project)t.push(this.project[e].titre);return t}},methods:{ParentSelected:function(t){console.log("dataSelected :",t.option),this.$emit("parent-selected",t.option)},TypingSearch:function(t){if(t.length>=2){this.isLoading=!0,this.value=t;var e=this;clearTimeout(e.timer),e.timer=setTimeout((function(){e.LoadProjectData()}),1500)}},LoadProjectData:function(){var t=this;this.isLoading=!0,c["a"].post("/gestion-project/search?key="+this.value,{level:0}).then((function(e){e.status&&e&&(t.project=e.data,console.log("Project search load",e)),t.isLoading=!1})).catch((function(t){console.log("error",t)}))}}},u=d,m=(s("60bc"),s("5724"),s("2877")),h=Object(m["a"])(u,a,n,!1,null,null,null);e["a"]=h.exports},f593:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-app"},[s("TheSidebar"),s("CWrapper",[s("TheHeader"),s("div",{staticClass:"c-body"},[s("main",{staticClass:"c-main"},[s("CContainer",{attrs:{fluid:""}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{key:t.$route.path})],1)],1)],1)]),s("TheFooter")],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CSidebar",{attrs:{fixed:"",minimize:t.minimize,show:t.show},on:{"update:show":function(e){return t.$store.commit("set",["sidebarShow",e])}}},[s("CSidebarBrand",{staticClass:"d-md-down-none",attrs:{to:"/"}},[s("CIcon",{staticClass:"c-sidebar-brand-full",attrs:{name:"logo",size:"custom-size",height:35,viewBox:"0 0 556 134"}}),s("CIcon",{staticClass:"c-sidebar-brand-minimized",attrs:{name:"logo",size:"custom-size",height:35,viewBox:"0 0 110 134"}})],1),s("CRenderFunction",{attrs:{flat:"","content-to-render":t.$options.nav}}),s("CSidebarMinimizer",{staticClass:"d-md-down-none",nativeOn:{click:function(e){return t.$store.commit("set",["sidebarMinimize",!t.minimize])}}})],1)},o=[],r=[{_name:"CSidebarNav",_children:[{_name:"CSidebarNavItem",name:"Dashboard",to:"/dashbord",icon:"cil-speedometer"},{_name:"CSidebarNavItem",name:"Projets",to:"/projets",icon:"cil-folder"},{_name:"CSidebarNavItem",name:"Clients",to:"/clients",icon:"cil-group"},{_name:"CSidebarNavItem",name:"Factures",to:"/factures",icon:"cil-inbox"},{_name:"CSidebarNavDropdown",name:"Theme Documentation",route:"/docs",icon:"cil-star",items:[{_name:"CSidebarNavItem",name:"Documentation",to:"/docs",icon:"cil-folder"}]},{_name:"CSidebarNavDivider",_class:"m-2"},{_name:"CSidebarNavTitle",_children:["Extras"]},{_name:"CSidebarNavDropdown",name:"Pages",route:"/pages",icon:"cil-star",items:[{name:"Login",to:"/pages/login"},{name:"Register",to:"/pages/register"},{name:"Error 404",to:"/pages/404"},{name:"Error 500",to:"/pages/500"}]}]}],l={name:"TheSidebar",nav:r,computed:{show:function(){return this.$store.state.sidebarShow},minimize:function(){return this.$store.state.sidebarMinimize}}},c=l,d=s("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null),m=u.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CHeader",{attrs:{fixed:"","with-subheader":"",light:""}},[s("CToggler",{staticClass:"ml-3 d-lg-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarMobile")}}}),s("CToggler",{staticClass:"ml-3 d-md-down-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarDesktop")}}}),s("CHeaderNav",[s("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Afficher les dernieres taches visités.",html:!0,placement:"bottom-start"},expression:"{\n        content: 'Afficher les dernieres taches visités.',\n        html: true,\n        placement: 'bottom-start',\n      }"}],attrs:{size:"sm",variant:"ghost",color:"warning"},on:{click:function(e){t.modalLast=!t.modalLast}}},[s("CIcon",{attrs:{name:"cilEyedropper"}})],1),s("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Afficher les taches encours.",html:!0,placement:"bottom-start"},expression:"{\n        content: 'Afficher les taches encours.',\n        html: true,\n        placement: 'bottom-start',\n      }"}],attrs:{size:"sm",variant:"ghost",color:"warning"},on:{click:function(e){t.tacheEncoursModal=!t.tacheEncoursModal}}},[s("CIcon",{attrs:{name:"cil-settings"}})],1)],1),s("CHeaderBrand",{staticClass:"mx-auto d-lg-none",attrs:{to:"/"}},[s("CIcon",{attrs:{name:"logo",height:"48",alt:"Logo"}})],1),s("CHeaderNav",{staticClass:"mr-5 ml-sm-auto mt-1"},[s("AddNewProject")],1),s("CSubheader",{staticClass:"px-3"},[s("BreadCrumb"),s("div",{staticClass:"ml-auto d-flex flex-wrap aling-items-end"},[s("SSearch",{attrs:{styled:!0}}),s("CDropdown",{staticClass:"ml-sm-n5 mt-2",attrs:{color:"dark","toggler-text":"Options"}},[s("CDropdownItem",[t._v("name")]),s("CDropdownItem",[t._v("statut")]),s("CDropdownItem",[t._v("Role")]),s("CDropdownDivider"),s("CDropdownItem",[t._v("date")])],1)],1)],1),s("CModal",{attrs:{title:"Last Updated",color:"light",size:"lg",show:t.modalLast},on:{"update:show":function(e){t.modalLast=e}}},[s("CDataTable",{staticClass:"m-0 table-borderless",attrs:{hover:"",responsive:"",items:t.itemsTache,fields:t.tableFields,header:!1,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":10,pagination:""},scopedSlots:t._u([{key:"user",fn:function(e){var a=e.item;return s("td",{},[s("CLink",{staticClass:"text-decoration-none",attrs:{to:{path:"/projets/"+a.idcontents}}},[s("div",{on:{click:function(e){t.modalLast=!t.modalLast}}},[t._v(" "+t._s(a.titre)+" ")]),s("div",{staticClass:"small text-muted mt-1"},[s("span",[[t._v("New")],t._e()],2),t._v(" | Crée le: "+t._s(a.created_at)+" ")])])],1)}},{key:"usage",fn:function(e){var a=e.item;return s("td",{},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"float-left"}),s("div",{staticClass:"float-right"},[s("small",{staticClass:"text-bold"},[s("strong",[t._v("Updated: ")]),t._v(" "+t._s(a.update_at))])])])])}},{key:"activity",fn:function(e){var a=e.item;return s("td",{},[s("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[s("CLink",{staticClass:"mx-3",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"}},[t._v(" "+t._s(a.type)+" ")])],1)],1)}}])}),s("template",{slot:"footer"},[s("div",{staticClass:"d-flex justify-content-end mr-3"})])],2),s("TacheEncours",{attrs:{modalLast:t.tacheEncoursModal},on:{"update-modal":t.UpdateModal}})],1)},p=[],f=s("c71b"),C=s("4bd1"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("CBreadcrumb",{staticClass:"border-0 mb-0",attrs:{items:t.links}},[t._t("default")],2)],1)},_=[],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{staticClass:"breadcrumb",attrs:{"doc-title":t.docTitle}},[t._l(t.linkItems,(function(e,a){return s("li",{key:a,class:[e.addClasses,t.sharedClasses,t.addLinkClasses],attrs:{role:"presentation"}},[s("CLink",t._b({},"CLink",Object.assign({},e,{addClasses:null,text:null}),!1),[t._v(" "+t._s(e.text)+" ")])],1)})),t.lastItem&&t.lastItem.to.length?s("li",{class:t.lastItemClasses,attrs:{role:"presentation"}},[s("CLink",t._b({},"CLink",Object.assign({},t.lastItem,{addClasses:null,text:null}),!1),[t._v(" "+t._s(t.lastItem.text)+" ")])],1):t.lastItem?s("li",{class:t.lastItemClasses,attrs:{role:"presentation"}},[s("span",{domProps:{textContent:t._s(t.lastItem.text)}})]):t._e(),t._t("default")],2)},b=[],x=s("7559"),y={name:"CBreadcrumb",components:{CLink:x["a"]},props:{items:Array,addClasses:[String,Array,Object],addLinkClasses:[String,Array,Object],addLastItemClasses:[String,Array,Object]},data:function(){return{siteName:"Gestion des projets"}},computed:{lastItem:function(){return this.items?this.items[this.items.length-1]:null},linkItems:function(){return this.items?this.items.slice(0,-1):[]},sharedClasses:function(){return[this.addClasses,"breadcrumb-item"]},lastItemClasses:function(){return["active",this.lastItem.addClasses,this.sharedClasses,this.addLastItemClasses]},docTitle:function(){return this.lastItem?(document.title=this.lastItem.text+" | "+this.siteName,document.title):this.siteName}}},L=y,w=Object(d["a"])(L,g,b,!1,null,null,null),k=w.exports,T=s("b8a6"),S={GetCrumbs:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(a){T["a"].post("/gestion-project/select/get-crumb",t).then((function(t){t.status?(t.data.reverse(),t.data.forEach((function(t){s.push(e.formatTocrumb(t))})),console.log(" customRoute :: ",s),a(s)):a(s)}))}))},formatTocrumb:function(t){return{to:"/projets/"+t.idcontents,text:t.titre}}},I=S,j={name:"Breadcrumb",components:{CBreadcrumb:k},props:{addClasses:[String,Array,Object],addLinkClasses:[String,Array,Object],addLastItemClasses:[String,Array,Object]},data:function(){return{customRoute:[]}},computed:{items:function(){var t="";this.$route.params.idcontents&&(t="/projets");var e=this.$route.matched.filter((function(t){return t.name||t.meta&&t.meta.label}));return e.map((function(e){var s=e.meta||{};return{to:t,text:s.label||e.name}}))},props:function(){return{items:this.links,addClasses:this.addClasses,addLinkClasses:this.addLinkClasses,addLastItemClasses:this.addLastItemClasses}},links:function(){var t=[];return this.items.length&&this.items.forEach((function(e){t.push(e)})),this.customRoute.length&&this.customRoute.forEach((function(e){t.push(e)})),t}},mounted:function(){this.GetCustomRoute(this.$route)},watch:{$route:function(t){this.GetCustomRoute(t)}},methods:{GetCustomRoute:function(t){var e=this;this.customRoute=[],t.params.idcontents&&I.GetCrumbs(t.params.idcontents).then((function(t){e.customRoute=t}))}}},E=j,D=Object(d["a"])(E,v,_,!1,null,null,null),$=D.exports,z=s("f0ae"),N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CModal",{attrs:{title:"Last Updated",color:"info",size:"lg",show:t.modalLastStatus},on:{"update:show":function(e){t.modalLastStatus=e}}},[s("CDataTable",{staticClass:"m-0 table-borderless",attrs:{hover:"",responsive:"",items:t.itemsTache,fields:t.tableFields,header:!1,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":10,pagination:""},scopedSlots:t._u([{key:"user",fn:function(e){var a=e.item;return s("td",{},[s("CLink",{staticClass:"text-decoration-none",attrs:{to:{path:"/projets/"+a.idcontents}}},[s("div",{on:{click:function(e){t.modalLast=!t.modalLast}}},[t._v(" "+t._s(a.titre)+" ")]),s("div",{staticClass:"small text-muted mt-1"},[t._v(" Crée le: "+t._s(a.created_at)+" ")])])],1)}},{key:"usage",fn:function(e){var a=e.item;return s("td",{attrs:{width:"300"}},[t._v(" "+t._s(t.progressItem(a))+" "),a.val&&a.max?s("CProgress",{staticClass:"progress-xs",staticStyle:{height:"10px"},attrs:{animated:"1"!==a.status&&"3"!==a.status,showPercentage:"",striped:"1"!==a.status&&"3"!==a.status,max:a.max,value:a.val,color:t.color(a.val,a.max)}}):t._e()],1)}},{key:"activity",fn:function(e){var a=e.item;return s("td",{},[s("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[s("CLink",{staticClass:"mx-3",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"}},[t._v(" "+t._s(a.type)+" ")])],1)],1)}}])}),s("template",{slot:"footer"},[s("div",{staticClass:"d-flex justify-content-end mr-3"})])],2)},O=[],P=s("c1df"),B=s.n(P),A={name:"TacheEncours",props:{modalLast:{type:Boolean,required:!0,default:!1}},components:{},data:function(){return{itemsTache:[],tableFields:[{key:"user",_style:"min-width:550px;",filter:!1},{key:"usage",_style:"min-width:200px;"},{key:"activity",_style:"width:600px;"}],progress:{max:0,val:0},currentTime:B()().unix()}},mounted:function(){this.LoadTacheData(),this.timing()},watch:{},computed:{modalLastStatus:{get:function(){return this.modalLast},set:function(t){this.$emit("update-modal",t)}}},methods:{LoadTacheData:function(){var t=this;this.isLoading=!0,z["a"].SelectTacheEnours().then((function(e){t.itemsTache=e,t.isLoading=!1}))},timing:function(){var t=this;2==this.dataLoad.status?(this.currentTime=B()().unix(),setInterval((function(){t.currentTime=B()().unix()}),5e3)):this.currentTime=B()().unix()},progressItem:function(t){var e=B.a.unix(t.date_fin_proposer),s=B.a.unix(t.date_depart_proposer),a=B.a.unix(this.currentTime);t.date_fin_reel&&t.date_fin_reel>0&&(a=B.a.unix(this.dataLoad.date_fin_reel));var n=a.diff(s,"minutes"),i=e.diff(s,"minutes");t.max=i,t.val=n},color:function(t,e){return T["a"].color(t,e)}}},F=A,M=Object(d["a"])(F,N,O,!1,null,"7876e06f",null),R=M.exports,H={name:"TheHeader",components:{SSearch:f["a"],AddNewProject:C["a"],BreadCrumb:$,TacheEncours:R},data:function(){return{modalLast:!1,itemsTache:[],tableFields:[{key:"user",_style:"min-width:550px;",filter:!1},{key:"usage",_style:"min-width:200px;"},{key:"activity",_style:"width:600px;"}],tacheEncoursModal:!1}},mounted:function(){this.LoadTacheData()},methods:{LoadTacheData:function(){var t=this;this.isLoading=!0,z["a"].selectAll().then((function(e){t.itemsTache=e,t.isLoading=!1}))},UpdateModal:function(t){this.tacheEncoursModal=t}}},U=H,G=Object(d["a"])(U,h,p,!1,null,null,null),V=G.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CFooter",{attrs:{fixed:!1}},[s("div",[s("a",{attrs:{href:"https://coreui.io",target:"_blank"}},[t._v("CoreUI")]),s("span",{staticClass:"ml-1"},[t._v("© "+t._s((new Date).getFullYear())+" creativeLabs.")])]),s("div",{staticClass:"mfs-auto"},[s("span",{staticClass:"mr-1",attrs:{target:"_blank"}},[t._v("Powered by")]),s("a",{attrs:{href:"https://coreui.io/vue"}},[t._v("CoreUI for Vue")])])])},q=[],W={name:"TheFooter"},Y=W,K=Object(d["a"])(Y,J,q,!1,null,null,null),Q=K.exports,X={name:"TheContainer",components:{TheSidebar:m,TheHeader:V,TheFooter:Q}},Z=X,tt=(s("7a34"),Object(d["a"])(Z,a,n,!1,null,"2ef788f9",null));e["default"]=tt.exports}}]);
//# sourceMappingURL=gestionTache.umd.min.7.js.map