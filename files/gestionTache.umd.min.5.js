(("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]=("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]||[]).push([[5],{1267:function(t,e,a){},"4b85":function(t,e,a){},"4bd1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CRow",{staticClass:"ml-2 mt-n2 d-flex",attrs:{alignVertical:"center"}},[a("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Nouveau projet",expression:"'Nouveau projet'"}],attrs:{size:"sm",color:"warning",shape:"pill"},on:{click:t.modalAddOn}},[a("CIcon",{staticClass:"text-white",attrs:{name:"cilPlus",height:35,size:"xl"}})],1),t.showSideText?a("h6",{staticClass:"ml-1 mt-1"},[t._v("Nouveau projet")]):t._e()],1),a("CModal",{attrs:{size:"lg",title:"Nouveau projet",color:"warning",show:t.modalAdd,footer:!1},on:{"update:show":function(e){t.modalAdd=e}}},[a("PopUpContent",{ref:"child",attrs:{formValues:t.formValues,utilisateur:t.utilisateur,btnState:t.btnStateAdd},on:{"addnew-ok":t.addnewOk,"addnew-error":t.addnewError}}),a("template",{slot:"footer"},[a("div",{staticClass:"d-flex justify-content-end mr-3"},[a("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.modalAdd=!1}}},[t._v(" Cancel ")]),a("CButton",{staticClass:"mx-1 d-flex align-items-center",attrs:{color:t.btnStateAdd.state?"warning":"light"},on:{click:t.PostNewProject}},[t._v(" Save "),t.spinner?a("CSpinner",{staticClass:"mx-2",staticStyle:{width:"0.8rem",height:"0.8rem"},attrs:{tag:"div",color:"primary"}}):t._e()],1)],1)])],2)],1)},o=[],i=a("1487"),s=a.n(i),r=a("2a5d"),l={components:{PopUpContent:r["default"]},props:{showSideText:{type:Boolean,default:null}},data:function(){return{spinner:!1,postData:{starttime:"",endtime:"",title:"",text:""},btnStateAdd:{state:!1},editorData:"<p>content...</p>",selected:"projet",modalAdd:!1,editorConfig:{extraPlugins:"codesnippet",codeSnippet_theme:"monokai_sublime"},options:[{value:"projet",label:"Projet"},{value:"tache",label:"Tâche"},{value:"memos",label:"Mémos"}],formValues:{}}},mounted:function(){},computed:{utilisateur:function(){return this.$store.state.utilisateur},ser:function(){var t=document.createElement("div");return t.innerHTML=this.editorData,t.querySelectorAll("pre code").forEach((function(t){s.a.highlightBlock(t)})),t.outerHTML}},methods:{modalAddOn:function(){this.modalAdd=!0,this.$refs.child.TimeNow()},PostNewProject:function(){this.btnStateAdd.state&&this.$refs.child.PostNewProject()},addnewOk:function(){this.spinner=!1,this.modalAdd=!1},addnewError:function(){alert("Une erreur s'est produit"),this.spinner=!1}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);e["a"]=d.exports},5724:function(t,e,a){"use strict";a("1267")},"7a34":function(t,e,a){"use strict";a("4b85")},c71b:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.styled?"searchForm":""},[a("multiselect",{attrs:{options:t.project,placeholder:"Tapez une recherche","hide-selected":!0,"max-height":700,"option-height":20,"show-labels":!1,searchable:!0,loading:t.isLoading,"track-by":"titre","internal-search":!1,showPointer:!0,label:"titre"},on:{"search-change":t.TypingSearch},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var n=e.option;return[a("span",{staticClass:"option__desc d-inline-flex flex-column"},[a("span",{staticClass:"option__title d-none"},[t._v(t._s(n.titre))])])]}},{key:"option",fn:function(e){return[a("router-link",{attrs:{to:"/projets/"+e.option.idcontents}},[t.styled?a("div",{staticClass:"option__desc d-inline-flex flex-column align-items-start"},[a("span",{staticClass:"option__title  d-flex align-items-center"},[a("CBadge",{staticClass:"mr-2",attrs:{color:t.badgeColor(e.option.type),position:"top-start",size:"sm",shape:"pill"}},[t._v(" "+t._s(e.option.type)+" ")]),a("span",{staticClass:"titre-option"},[t._v(t._s(e.option.titre))]),a("CIcon",{staticClass:"ml-3 pb-0 ",class:"text-"+t.badgeColor(e.option.type),attrs:{name:"cilShare",size:"sm"}})],1),a("div",{staticClass:"d-flex align-items-center"})]):t._e()]),t.styled?t._e():a("div",{staticClass:"option__desc d-inline-flex flex-column align-items-start",on:{click:function(a){return t.ParentSelected(e)}}},[a("span",{staticClass:"option__title mb-2"},[a("CIcon",{staticClass:"mr-1 text-dark",attrs:{name:"cilFolder"}}),t._v(" "+t._s(e.option.titre)+" "),a("small",{staticClass:"text-dark p-1 mt-2 ml-2 text-type"},[t._v(t._s(e.option.type))])],1)])]}}]),model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[a("span",{staticClass:"p-3",attrs:{slot:"noResult"},slot:"noResult"},[t._v(" Ooops! Aucun élement trouvé... ")])])],1)},o=[],i=a("8e5f"),s=a.n(i),r=a("8bbf"),l=a.n(r),c=a("b8a6");l.a.component("multiselect",s.a);var u={props:{styled:{type:Boolean,default:!1}},components:{Multiselect:s.a},data:function(){return{value:"",searchValue:"",options:["list","of","options"],project:[],isLoading:!1,timer:null}},mounted:function(){},watch:{},computed:{pOptions:function(){var t=[];if(this.project.length)for(var e in this.project)t.push(this.project[e].titre);return t}},methods:{badgeColor:function(t){var e="";switch(t){case"project":e="dark";break;case"bug":e="danger";break;case"a_faire":e="dark";break;case"tache":e="success";break;case"sous-projet":e="secondary";break;default:e="light"}return e},ParentSelected:function(t){console.log("dataSelected :",t.option),this.$emit("parent-selected",t.option)},TypingSearch:function(t){if(t.length>=2){this.isLoading=!0,this.value=t;var e=this;clearTimeout(e.timer),e.timer=setTimeout((function(){e.LoadProjectData()}),1500)}},LoadProjectData:function(){var t=this;this.isLoading=!0,c["a"].post("/gestion-project/search?key="+this.value,{level:0},{headers:{Authorization:c["a"].auth}}).then((function(e){e.status&&e&&(t.project=e.data,console.log("Project search load",e)),t.isLoading=!1})).catch((function(t){console.log("error",t)}))}}},d=u,m=(a("60bc"),a("5724"),a("2877")),p=Object(m["a"])(d,n,o,!1,null,null,null);e["a"]=p.exports},d111:function(t,e,a){"use strict";var n=a("c1df"),o=a.n(n);function i(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=s(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw i}}}}function s(t,e){if(t){if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d={formatData:function(t){return new Promise((function(e){console.log("fdate : ",t);var a=[];if(t&&t.titre){var n=o()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),i=o()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix(),s={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"update"};if(t.idcontents&&(s.where=[{column:"idcontents",value:t.idcontents}]),t.date_depart_proposer.length&&t.date_fin_proposer.length){var r={table:"gestion_project_times",fields:{status:t.status,date_depart_proposer:n,date_fin_proposer:i},action:"update",where:[{column:"idcontents",value:t.idcontents}]};1!==parseInt(t.status)||t.date_fin_reel&&""!==t.date_fin_reel||(r.fields.date_fin_reel=o()().unix()),a.push(r)}a.push(s),console.log("ligne",a)}e(a)}))},formatHierarchie:function(t,e){return new Promise((function(a){console.log("fdate : ",e);var n=[];if(t&&t.titre){var o={table:"gestion_project_hierachie",fields:{idcontentsparent:e.id,idcontents:t.idcontents,ordre:e.ordre},action:"update",where:[{column:"idcontents",value:t.idcontents}]};n.push(o),console.log("ligne",n)}a(n)}))},formCard:function(t){var e=[];for(var a in t){var n=t[a];n.cards&&(n.cards=this.formCard(n.cards)),e.push(c(c({},n),{},{open:!1}))}return e},formatAddData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(n){var s=[],r=parseInt(t.status,10);if(a=parseInt(a,10),t.date_depart_proposer.length&&t.date_fin_proposer){var l=o()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),c=o()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix();s.push({table:"gestion_project_times",fields:{date_depart_proposer:l,date_fin_proposer:c,status:r}})}if(s.push({table:"gestion_project_hierachie",fields:{idcontentsparent:e,ordre:0,level:a}}),t.executant&&t.executant.length){var u,d=i(t.executant);try{for(d.s();!(u=d.n()).done;){var m=u.value;s.push({table:"gestion_project_executant",fields:{uid:m["uid"]}})}}catch(h){d.e(h)}finally{d.f()}}var p=[];if(t&&t.titre){var f={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"insert"};f.childstable={colum_id_name:"idcontents",tables:s},p.push(f)}console.log("result ligne",p),n(p)}))},fomatVal:function(t,e,a){return new Promise((function(n){t.idcontents&&(e.idcontents=t.idcontents);var s=function(n){if(t[n])if("date_depart_proposer"===n)e[n]=o.a.unix(t[n]).format("YYYY-MM-DD"),e.heure_debut=o.a.unix(t[n]).format("HH:mm");else if("date_fin_proposer"===n)e[n]=o.a.unix(t[n]).format("YYYY-MM-DD"),e.heure_fin=o.a.unix(t[n]).format("HH:mm");else if("privaty"===n)e[n]="0"!=t[n];else if("executant"===n){e[n]=[];var s,r=i(t[n]);try{var l=function(){var t=s.value;a.forEach((function(a){t.uid==a.uid&&e[n].push(a)}))};for(r.s();!(s=r.n()).done;)l()}catch(c){r.e(c)}finally{r.f()}}else e[n]=t[n]};for(var r in e)s(r);n()}))},formatDeleteData:function(t){return new Promise((function(e){var a=[];if(t&&t.titre){var n={table:"gestion_project_contents",fields:{},action:"delete"};t.idcontents&&(n.where=[{column:"idcontents",value:t.idcontents}]),n.childstable={tables:[{table:"gestion_project_times",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]},{table:"gestion_project_hierachie",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]},{table:"gestion_project_executant",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]}]},a.push(n),console.log("ligne",a)}e(a)}))},formatDataClient:function(t){return new Promise((function(e){var a=[];if(t&&t.nom){var n={table:"gestion_project_client",fields:{nom:t.nom,uid:t.uid,prenom:t.prenom,phone:t.phone,adresse:t.adresse,fonction:t.fonction,idsociete:t.idsociete},action:"update"};t.idclient&&(n.where=[{column:"idclient",value:t.idclient}]),a.push(n)}e(a)}))},formatDataSte:function(t){return new Promise((function(e){var a=[];if(t&&t.nom){var n={table:"gestion_project_societe",fields:{nom:t.nom,email:t.email,phone:t.phone,adresse:t.adresse,siteweb:t.siteweb},action:"update"};t.idsociete&&(n.where=[{column:"idsociete",value:t.idsociete}]),a.push(n)}e(a)}))},formatDeleteClient:function(t){return new Promise((function(e){var a=[];if(t.idclient){var n={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idclient",value:t.idclient}]};a.push(n),console.log("ligne 1",a)}else if(t.idsociete){n={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};var o={table:"gestion_project_societe",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};a.push(n),a.push(o),console.log("ligne2",a)}e(a)}))},formatAddInvoice:function(t,e){return new Promise((function(a){var n=[],i=o()().unix(),s=o()().unix();if(console.log("fadin :",t),t&&t.numero){var r={table:"gestion_project_invoice",fields:{numero:t.numero,idcontents:""!==t.idcontents?t.idcontents:null,idclients:t.idclients,objet:t.objet,creaated:i,proprietaire:t.proprietaire,updated:s}};1==e&&(r.where=[{column:"numero",value:t.numero}],r.action="update"),n.push(r)}a(n)}))},formatDeleteInvoice:function(t){return new Promise((function(e){var a=[];if(t&&t.numero){var n={table:"gestion_project_invoice",fields:{},action:"delete",where:[{column:"numero",value:t.numero}]},o={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoice",value:t.numero}]};a.push(o),a.push(n)}e(a)}))},formatAddInvoiceList:function(t,e){return new Promise((function(a){var n=[];if(t&&t.titre){var o={table:"gestion_project_invoice_list",fields:{titre:t.titre,idcontents:""!==t.idcontents?t.idcontents:null,description:t.description,cout:t.cout,idinvoice:t.idinvoice}};1==e&&(o.where=[{column:"idinvoicelist",value:t.idinvoicelist}],o.action="update"),n.push(o)}a(n)}))},formatDeleteInvoiceList:function(t){return new Promise((function(e){var a=[];if(console.log("fadin :",t),t&&t.idinvoicelist){var n={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoicelist",value:t.idinvoicelist}]};a.push(n)}e(a)}))}};e["a"]=d},f593:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-app"},[a("TheSidebar"),a("CWrapper",[a("TheHeader"),a("div",{staticClass:"c-body"},[a("main",{staticClass:"c-main"},[a("CContainer",{attrs:{fluid:""}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{key:t.$route.path})],1)],1)],1)]),a("TheFooter")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CSidebar",{attrs:{fixed:"",minimize:t.minimize,show:t.show},on:{"update:show":function(e){return t.$store.commit("set",["sidebarShow",e])}}},[a("CSidebarBrand",{staticClass:"d-md-down-none",attrs:{to:"/"}},[a("CIcon",{staticClass:"c-sidebar-brand-full",attrs:{name:"logo",size:"custom-size",height:35,viewBox:"0 0 556 134"}}),a("CIcon",{staticClass:"c-sidebar-brand-minimized",attrs:{name:"logo",size:"custom-size",height:35,viewBox:"0 0 110 134"}})],1),a("CRenderFunction",{attrs:{flat:"","content-to-render":t.$options.nav}}),a("CSidebarMinimizer",{staticClass:"d-md-down-none",nativeOn:{click:function(e){return t.$store.commit("set",["sidebarMinimize",!t.minimize])}}})],1)},s=[],r=[{_name:"CSidebarNav",_children:[{_name:"CSidebarNavItem",name:"Dashboard",to:"/dashbord",icon:"cil-speedometer"},{_name:"CSidebarNavItem",name:"Projets",to:"/projets",icon:"cil-folder"},{_name:"CSidebarNavItem",name:"Clients",to:"/clients",icon:"cil-group"},{_name:"CSidebarNavItem",name:"Factures",to:"/factures",icon:"cil-inbox"},{_name:"CSidebarNavDropdown",name:"Theme Documentation",route:"/docs",icon:"cil-star",items:[{_name:"CSidebarNavItem",name:"Documentation",to:"/docs",icon:"cil-folder"}]},{_name:"CSidebarNavDivider",_class:"m-2"},{_name:"CSidebarNavTitle",_children:["Extras"]},{_name:"CSidebarNavDropdown",name:"Pages",route:"/pages",icon:"cil-star",items:[{name:"Login",to:"/pages/login"},{name:"Register",to:"/pages/register"},{name:"Error 404",to:"/pages/404"},{name:"Error 500",to:"/pages/500"}]}]}],l={name:"TheSidebar",nav:r,computed:{show:function(){return this.$store.state.sidebarShow},minimize:function(){return this.$store.state.sidebarMinimize}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,s,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CHeader",{attrs:{fixed:"","with-subheader":"",light:""}},[a("CToggler",{staticClass:"ml-3 d-lg-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarMobile")}}}),a("CToggler",{staticClass:"ml-3 d-md-down-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarDesktop")}}}),a("CHeaderNav",[a("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Afficher les dernieres taches visités.",html:!0,placement:"bottom-start"},expression:"{\n        content: 'Afficher les dernieres taches visités.',\n        html: true,\n        placement: 'bottom-start',\n      }"}],attrs:{size:"sm",variant:"ghost",color:"warning"},on:{click:function(e){t.modalLast=!t.modalLast}}},[a("CIcon",{attrs:{name:"cilEyedropper"}})],1),a("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Afficher les taches encours.",html:!0,placement:"bottom-start"},expression:"{\n        content: 'Afficher les taches encours.',\n        html: true,\n        placement: 'bottom-start',\n      }"}],attrs:{size:"sm",variant:"ghost",color:"warning"},on:{click:t.loadTacheEncour}},[a("CIcon",{attrs:{name:"cil-settings"}})],1),a("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Mes tâches",expression:"'Mes tâches'"}],attrs:{size:"sm",shape:"",variant:"ghost",color:"primary"},on:{click:t.loadMesTaches}},[a("CIcon",{attrs:{name:"cil-address-book",size:"sm"}})],1)],1),a("CHeaderBrand",{staticClass:"mx-auto d-lg-none",attrs:{to:"/"}},[a("CIcon",{attrs:{name:"logo",height:"48",alt:"Logo"}})],1),a("CHeaderNav",{staticClass:"mr-5 ml-sm-auto mt-1"},[a("CLink",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Log Out",expression:"'Log Out'"}]},[a("CButton",{attrs:{size:"",shape:"pill",color:"light"},on:{click:t.logOut}},[a("CIcon",{attrs:{name:"cil-account-logout",size:"sm"}})],1)],1),a("AddNewProject")],1),a("CSubheader",{staticClass:"px-3"},[a("BreadCrumb"),a("div",{staticClass:"ml-auto d-flex flex-wrap aling-items-end"},[a("SSearch",{attrs:{styled:!0}}),a("CDropdown",{staticClass:"d-none ml-sm-n5 mt-2",attrs:{color:"dark","toggler-text":"Options"}},[a("CDropdownItem",[t._v("name")]),a("CDropdownItem",[t._v("statut")]),a("CDropdownItem",[t._v("Role")]),a("CDropdownDivider"),a("CDropdownItem",[t._v("date")])],1)],1)],1),a("CModal",{attrs:{title:"Last Updated",color:"dark",size:"lg",show:t.modalLast},on:{"update:show":function(e){t.modalLast=e}}},[a("div",{staticClass:"d-flex justify-content-end border-bottom-1 mr-3"},[a("CLink",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Actualiser",expression:"'Actualiser'"}]},[a("CButton",{attrs:{size:"sm",shape:"pill",color:"secondary"},on:{click:t.LoadTacheData}},[a("CIcon",{attrs:{name:"cil-reload",size:"sm"}})],1)],1)],1),a("CDataTable",{staticClass:"m-0 table-borderless",attrs:{hover:"",responsive:!1,items:t.itemsTache,fields:t.tableFields,header:!1,loading:t.isLoading,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":10,pagination:""},scopedSlots:t._u([{key:"user",fn:function(e){var n=e.item;return a("td",{},[a("CLink",{staticClass:"text-decoration-none",attrs:{to:{path:"/projets/"+n.idcontents}}},[a("div",{on:{click:function(e){t.modalLast=!t.modalLast}}},[t._v(" "+t._s(n.titre)+" "),"1"==n.privaty?a("CBadge",{attrs:{color:"danger",position:"top-start",shape:"pill"}},[t._v(" Privé ")]):t._e()],1),a("div",{staticClass:"small text-muted mt-1"},[a("span",[[t._v("New")],t._e()],2),t._v(" | Crée le: "+t._s(n.created_at)+" ")])])],1)}},{key:"usage",fn:function(e){var n=e.item;return a("td",{},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"float-left"}),a("div",{staticClass:"float-right"},[a("small",{staticClass:"text-bold"},[a("strong",[t._v("Updated: ")]),t._v(" "+t._s(n.update_at))])])])])}},{key:"activity",fn:function(e){var n=e.item;return a("td",{},[a("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[a("CLink",{staticClass:"mx-3",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"}},[t._v(" "+t._s(n.type)+" ")])],1)],1)}}])}),a("template",{slot:"footer"},[a("div",{staticClass:"d-flex justify-content-end mr-3"})])],2),a("TacheEncours",{attrs:{modalLast:t.tacheEncoursModal},on:{ev_modal_last:t.ev_modal_last,"update-modal":t.UpdateModalEncour}}),a("TacheEncours",{attrs:{type:t.mesTaches,titleModal:t.titleMesTaches,colorModal:t.colorMesTaches,modalLast:t.MesTachesModal},on:{ev_modal_last:t.ev_modal_last,"update-modal":t.UpdateModal}})],1)},f=[],h=a("c71b"),v=a("4bd1"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CBreadcrumb",{staticClass:"border-0 mb-0",attrs:{items:t.links}},[t._t("default")],2)],1)},g=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb",attrs:{"doc-title":t.docTitle}},[t._l(t.linkItems,(function(e,n){return a("li",{key:n,class:[e.addClasses,t.sharedClasses,t.addLinkClasses],attrs:{role:"presentation"}},[a("CLink",t._b({},"CLink",Object.assign({},e,{addClasses:null,text:null}),!1),[t._v(" "+t._s(e.text)+" ")])],1)})),t.lastItem&&t.lastItem.to.length?a("li",{class:t.lastItemClasses,attrs:{role:"presentation"}},[a("CLink",t._b({},"CLink",Object.assign({},t.lastItem,{addClasses:null,text:null}),!1),[t._v(" "+t._s(t.lastItem.text)+" ")])],1):t.lastItem?a("li",{class:t.lastItemClasses,attrs:{role:"presentation"}},[a("span",{domProps:{textContent:t._s(t.lastItem.text)}})]):t._e(),t._t("default")],2)},C=[],w=a("7559"),y={name:"CBreadcrumb",components:{CLink:w["a"]},props:{items:Array,addClasses:[String,Array,Object],addLinkClasses:[String,Array,Object],addLastItemClasses:[String,Array,Object]},data:function(){return{siteName:"Gestion des projets"}},computed:{lastItem:function(){return this.items?this.items[this.items.length-1]:null},linkItems:function(){return this.items?this.items.slice(0,-1):[]},sharedClasses:function(){return[this.addClasses,"breadcrumb-item"]},lastItemClasses:function(){return["active",this.lastItem.addClasses,this.sharedClasses,this.addLastItemClasses]},docTitle:function(){return this.lastItem?(document.title=this.lastItem.text+" | "+this.siteName,document.title):this.siteName}}},x=y,j=Object(u["a"])(x,b,C,!1,null,null,null),k=j.exports,L=a("b8a6"),S={GetCrumbs:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(n){L["a"].post("/gestion-project/select/get-crumb",t,{headers:{Authorization:L["a"].auth}}).then((function(t){t.status?(t.data.reverse(),t.data.forEach((function(t){a.push(e.formatTocrumb(t))})),console.log(" customRoute :: ",a),n(a)):n(a)}))}))},formatTocrumb:function(t){return{to:"/projets/"+t.idcontents,text:t.titre}}},T=S,M={name:"Breadcrumb",components:{CBreadcrumb:k},props:{addClasses:[String,Array,Object],addLinkClasses:[String,Array,Object],addLastItemClasses:[String,Array,Object]},data:function(){return{customRoute:[]}},computed:{items:function(){var t="";this.$route.params.idcontents&&(t="/projets");var e=this.$route.matched.filter((function(t){return t.name||t.meta&&t.meta.label}));return e.map((function(e){var a=e.meta||{};return{to:t,text:a.label||e.name}}))},props:function(){return{items:this.links,addClasses:this.addClasses,addLinkClasses:this.addLinkClasses,addLastItemClasses:this.addLastItemClasses}},links:function(){var t=[];return this.items.length&&this.items.forEach((function(e){t.push(e)})),this.customRoute.length&&this.customRoute.forEach((function(e){t.push(e)})),t}},mounted:function(){this.GetCustomRoute(this.$route)},watch:{$route:function(t){this.GetCustomRoute(t)}},methods:{GetCustomRoute:function(t){var e=this;this.customRoute=[],t.params.idcontents&&T.GetCrumbs(t.params.idcontents).then((function(t){e.customRoute=t}))}}},I=M,D=Object(u["a"])(I,_,g,!1,null,null,null),O=D.exports,A=a("f0ae"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CModal",{attrs:{title:t.titleModal,size:"lg",color:t.colorModal,show:t.modalLastStatus},on:{"update:show":function(e){t.modalLastStatus=e}}},[a("CRow",[a("CCol",{attrs:{col:"4"}},[a("CSelect",{attrs:{options:t.users,label:"Nom de l'utilisateur :",placeholder:"Select user tasks",multiple:!1},on:{change:t.LoadTacheData},model:{value:t.current_user,callback:function(e){t.current_user=e},expression:"current_user"}})],1)],1),a("CDataTable",{staticClass:"m-0 table-borderless",attrs:{hover:"",responsive:!1,items:t.itemsTache,fields:t.tableFields,header:!1,loading:t.isLoading,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":10,pagination:""},scopedSlots:t._u([{key:"user",fn:function(e){var n=e.item;return a("td",{},[a("CLink",{staticClass:"text-decoration-none",attrs:{to:{path:"/projets/"+n.idcontents}}},[a("div",{on:{click:t.evModalLast}},[t._v(" "+t._s(n.titre)+" "),"1"==n.privaty?a("CBadge",{attrs:{color:"danger",position:"top-start",shape:"pill"}},[t._v(" Privé ")]):t._e()],1),a("div",{staticClass:"small text-muted mt-1"},[t._v(" Crée le: "+t._s(n.created_at)+" ")])])],1)}},{key:"usage",fn:function(e){var n=e.item;return a("td",{attrs:{width:"300"}},[t._v(" "+t._s(t.progressItem(n))+" "),n.val&&n.max?a("CProgress",{staticClass:"progress-xs",staticStyle:{height:"10px"},attrs:{animated:"1"!==n.status&&"3"!==n.status,showPercentage:"",striped:"1"!==n.status&&"3"!==n.status,max:n.max,value:n.val,color:t.color(n.val,n.max)}}):t._e()],1)}},{key:"activity",fn:function(e){var n=e.item;return a("td",{},[a("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[a("CLink",{staticClass:"mx-3",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"}},[t._v(" "+t._s(n.type)+" ")])],1)],1)}}])}),a("template",{slot:"footer"},[a("div",{staticClass:"d-flex justify-content-end mr-3"},[a("CLink",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Actualiser",expression:"'Actualiser'"}]},[a("CButton",{attrs:{size:"sm",shape:"pill",color:"secondary"},on:{click:t.LoadTacheData}},[a("CIcon",{attrs:{name:"cil-reload",size:"sm"}})],1)],1)],1)])],2)},E=[],z=a("c1df"),N=a.n(z);function $(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=B(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw i}}}}function B(t,e){if(t){if("string"===typeof t)return Y(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Y(t,e):void 0}}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var H={name:"TacheEncours",props:{colorModal:{type:String,default:"success"},titleModal:{type:String,default:"Dernières mises à jours"},type:{type:String,default:"encour"},modalLast:{type:Boolean,required:!0,default:!1}},components:{},data:function(){return{current_user:null,isLoading:!1,itemsTache:[],tableFields:[{key:"user",_style:"min-width:550px;",filter:!1},{key:"usage",_style:"min-width:200px;"},{key:"activity",_style:"width:600px;"}],progress:{max:0,val:0},currentTime:N()().unix()}},mounted:function(){this.current_user=L["a"].current_user.toString(),this.LoadTacheData(),this.timing()},watch:{},computed:{utilisateur:function(){return this.$store.state.utilisateur},users:function(){var t=[];if(this.utilisateur&&this.utilisateur.length){var e,a=$(this.utilisateur);try{for(a.s();!(e=a.n()).done;){var n=e.value,o={};o["label"]=n["name"][0]["value"],o["mail"]=n["mail"][0]["value"],o["value"]=n["uid"][0]["value"],t.push(o)}}catch(i){a.e(i)}finally{a.f()}}return t},modalLastStatus:{get:function(){return this.modalLast},set:function(t){this.$emit("update-modal",t)}}},methods:{LoadTacheData:function(t){var e=this;switch(this.type){case"encour":this.isLoading=!0,A["a"].SelectTacheEnours().then((function(t){e.itemsTache=t,e.isLoading=!1})).catch((function(t){console.log("error encour",t),e.isLoading=!1}));break;case"mestaches":var a;if(this.isLoading=!0,this.current_user)t&&t.target?(a=t.target.value,this.current_user=a):a=this.current_user,A["a"].SelectMesTaches(a).then((function(t){e.itemsTache=t,e.isLoading=!1})).catch((function(t){console.log("error chargement mes taches",t),e.isLoading=!1}));break}},timing:function(){var t=this;this.dataLoad&&2==this.dataLoad.status?(this.currentTime=N()().unix(),setInterval((function(){t.currentTime=N()().unix()}),5e3)):this.currentTime=N()().unix()},evModalLast:function(){this.$emit("ev_modal_last")},progressItem:function(t){var e=N.a.unix(t.date_fin_proposer),a=N.a.unix(t.date_depart_proposer),n=N.a.unix(this.currentTime);t.date_fin_reel&&t.date_fin_reel>0&&(n=N.a.unix(this.dataLoad.date_fin_reel));var o=n.diff(a,"minutes"),i=e.diff(a,"minutes");t.max=i,t.val=o},color:function(t,e){return L["a"].color(t,e)}}},R=H,F=Object(u["a"])(R,P,E,!1,null,"21eba84d",null),U=F.exports,V={name:"TheHeader",components:{SSearch:h["a"],AddNewProject:v["a"],BreadCrumb:O,TacheEncours:U},data:function(){return{mesTaches:"mestaches",titleMesTaches:"Mes tâches",colorMesTaches:"primary",MesTachesModal:!1,modalLast:!1,isLoading:!1,itemsTache:[],tableFields:[{key:"user",_style:"min-width:550px;",filter:!1},{key:"usage",_style:"min-width:200px;"},{key:"activity",_style:"width:600px;"}],tacheEncoursModal:!1}},mounted:function(){this.LoadTacheData()},methods:{loadMesTaches:function(){this.MesTachesModal=!0},loadTacheEncour:function(){this.tacheEncoursModal=!0},logOut:function(){window.localStorage.clear();var t=window.location.origin+"#/pages/login";"/"!=window.location.pathname&&(t=window.location.origin+window.location.pathname+"#/pages/login"),console.log("utilisateur deconnecter",t),window.location.replace(t)},LoadTacheData:function(){var t=this;this.isLoading=!0,A["a"].selectAll().then((function(e){t.itemsTache=e,t.isLoading=!1}))},ev_modal_last:function(){this.tacheEncoursModal=!1,this.MesTachesModal=!1},UpdateModalEncour:function(t){this.tacheEncoursModal=t},UpdateModal:function(t){this.MesTachesModal=t}}},G=V,q=Object(u["a"])(G,p,f,!1,null,null,null),J=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CFooter",{attrs:{fixed:!1}},[a("div",[a("a",{attrs:{href:"https://coreui.io",target:"_blank"}},[t._v("CoreUI")]),a("span",{staticClass:"ml-1"},[t._v("© "+t._s((new Date).getFullYear())+" creativeLabs.")])]),a("div",{staticClass:"mfs-auto"},[a("span",{staticClass:"mr-1",attrs:{target:"_blank"}},[t._v("Powered by")]),a("a",{attrs:{href:"https://coreui.io/vue"}},[t._v("CoreUI for Vue")])])])},K=[],Q={name:"TheFooter"},X=Q,Z=Object(u["a"])(X,W,K,!1,null,null,null),tt=Z.exports,et={name:"TheContainer",components:{TheSidebar:m,TheHeader:J,TheFooter:tt}},at=et,nt=(a("7a34"),Object(u["a"])(at,n,o,!1,null,"2ef788f9",null));e["default"]=nt.exports}}]);
//# sourceMappingURL=gestionTache.umd.min.5.js.map