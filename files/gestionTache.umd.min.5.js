(("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]=("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]||[]).push([[5],{"58ae":function(t,e,n){},"5b75":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CRow",{staticClass:"mr-5 mt-n2 d-flex mb-2",attrs:{alignHorizontal:"end"}},[n("PopUpFacture")],1),n("CRow",[n("CCol",[n("FactureList")],1)],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CCard",[n("CCardHeader",[t._v(" List des factures "),n("div",{staticClass:"card-header-actions"},[n("a",{staticClass:"card-header-action",attrs:{href:"#",rel:"noreferrer noopener",target:"_blank"}},[n("small",{staticClass:"text-muted"})])])]),n("CCardBody",{},[n("CDataTable",{staticClass:"m-0 table-borderless",attrs:{hover:"",responsive:!1,loading:t.isLoading,items:t.items,fields:t.factureFields,header:!1,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":5,pagination:""},scopedSlots:t._u([{key:"objet",fn:function(e){var i=e.item;return n("td",{},[n("div",[n("CLink",{staticClass:"text-decoration-none titre-fact",attrs:{to:"/factures/"+i.numero}},[t._v(" "+t._s(i.objet)+" ")])],1),n("div",{staticClass:"small text-muted mt-1"})])}},{key:"numero",fn:function(e){var i=e.item;return n("td",{},[n("div",{staticClass:"numero-fact"},[t._v("N°: "+t._s(i.numero))])])}},{key:"cout",fn:function(e){var i=e.item;return n("td",{},[n("div",{staticClass:"text-info"},[t._v(t._s(i.cout)+" $")])])}},{key:"activity",fn:function(e){var i=e.item;return n("td",{},[n("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[n("PopUpFacture",{attrs:{add:!1,initData:i,edition:t.edition,update:!0},on:{"addnew-ok":t.LoadFacture}}),n("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Export to PDF",expression:"'Export to PDF'"}],staticClass:"mx-1",attrs:{color:"info",variant:"ghost",shape:"pill",size:"sm"}},[n("CIcon",{staticClass:"mr-1 text-primary",attrs:{name:"cilCloudDownload"}})],1),n("CButton",{staticClass:"mx-1 text-danger",attrs:{color:"dark",variant:"ghost",shape:"pill",size:"sm"},on:{click:function(e){return t.DeleteModalOn(i)}}},[n("CIcon",{staticClass:"mr-1 text-danger",attrs:{name:"cil-x-circle"}})],1)],1)],1)}}])})],1)],1),n("CModal",{attrs:{title:"Confirmer la suppression de la facture N°: "+t.dataDelete.numero,color:"danger",show:t.deleteModal},on:{"update:show":function(e){t.deleteModal=e}}},[t._v(" êtes vous sûre de vouloir supprimer ce contenu? "),n("br"),n("small",{staticClass:"mt-2 text-center"},[t._v("Cette action est irréversible.")]),n("template",{slot:"footer"},[n("div",{staticClass:"d-flex justify-content-end mr-3"},[n("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.deleteModal=!1}}},[t._v("Cancel")]),n("CButton",{staticClass:"mx-1",attrs:{color:"danger",desabled:""},on:{click:t.DeleteFacture}},[t._v("Supprimer "),t.spinner?n("CSpinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{size:"sm",tag:"small",color:"primary"}}):t._e()],1)],1)])],2)],1)},r=[],s=n("f0ae"),c=n("d111"),l=n("b8a6"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CLink",{attrs:{to:"#"}},[t.add?n("CButton",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Nouvelle Facture",expression:"'Nouvelle Facture'"}],attrs:{size:"sm",color:"info",shape:"pill"},on:{click:t.initNewFacture}},[n("CIcon",{staticClass:"text-white",attrs:{name:"cilPlus",height:35,size:"xl"}})],1):t._e(),t.add?t._e():n("CButton",{staticClass:"mx-1",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"},on:{click:t.initNewFacture}},[n("CIcon",{staticClass:"mr-1 text-info",attrs:{name:"cilPencil"}})],1)],1),n("CModal",{attrs:{size:"lg",title:"Initialisation de la facture",color:"info",show:t.modalAdd.state,footer:!1,closeOnBackdrop:!1},on:{"update:show":function(e){return t.$set(t.modalAdd,"state",e)}}},[t.alertOk?n("CRow",{attrs:{alignHorizontal:"center"}},[n("CCol",{attrs:{sm:"7"}},[n("CAlert",{attrs:{color:t.AlertColor,closeButton:!0}},[t._v(" "+t._s(t.alertText)+" ")])],1)],1):t._e(),t.showInput?n("div",[n("CRow",{attrs:{tag:"div"}},[n("CCol",{attrs:{sm:"4"}},[n("CInput",{attrs:{label:"Numéro Facture:",placeholder:"420012"},model:{value:t.initData.numero,callback:function(e){t.$set(t.initData,"numero",e)},expression:"initData.numero"}})],1)],1),n("CRow",{attrs:{tag:"div"}},[n("CCol",{attrs:{sm:"6"}},[n("CInput",{attrs:{label:"Objet:",placeholder:"Renseigner l'objet de la facture"},model:{value:t.initData.objet,callback:function(e){t.$set(t.initData,"objet",e)},expression:"initData.objet"}})],1)],1),n("CRow",{attrs:{tag:"div"}},[n("CCol",{attrs:{sm:"5"}},[n("CSelect",{attrs:{label:"Nom du projet:",placeholder:"Choisir le projet lié",value:t.initData.idcontents,options:t.selectProjectFormat},on:{"update:value":function(e){return t.$set(t.initData,"idcontents",e)}},model:{value:t.initData.idcontents,callback:function(e){t.$set(t.initData,"idcontents",e)},expression:"initData.idcontents"}})],1)],1),n("CRow",{attrs:{tag:"div"}},[n("CCol",{attrs:{sm:"5"}},[n("CSelect",{attrs:{label:"Nom Entreprise:",placeholder:"Choisir l'entreprise",value:t.initData.proprietaire,options:t.selectOptionFormat},on:{"update:value":function(e){return t.$set(t.initData,"proprietaire",e)}},model:{value:t.initData.proprietaire,callback:function(e){t.$set(t.initData,"proprietaire",e)},expression:"initData.proprietaire"}})],1),n("CCol",{attrs:{sm:"5"}},[n("CSelect",{attrs:{label:"Nom client",value:t.initData.idclients,placeholder:"Choose Client",options:t.selectOptionFormat},on:{"update:value":function(e){return t.$set(t.initData,"idclients",e)}},model:{value:t.initData.idclients,callback:function(e){t.$set(t.initData,"idclients",e)},expression:"initData.idclients"}})],1)],1)],1):t._e(),t.isLoading?n("CRow",{attrs:{alignHorizontal:"center"}},[n("CCol",{staticClass:"p-3",attrs:{sm:"3"}},[n("CSpinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{color:"info",grow:""}})],1)],1):t._e(),n("template",{slot:"footer"},[n("div",{staticClass:"d-flex justify-content-end mr-3"},[n("CButton",{staticClass:"mx-1",attrs:{color:"light"},on:{click:function(e){t.modalAdd.state=!1}}},[t._v(" Cancel ")]),t.buttonService?t._e():n("CButton",{staticClass:"mx-1",attrs:{color:"info"},on:{click:t.PostNewInitFacture}},[t._v(" Créer ")]),t.buttonService?n("CLink",{attrs:{to:"/factures/"+t.initData.numero}},[n("CButton",{staticClass:"mx-1",attrs:{color:"warning"}},[t._v(" Ajouter services ")])],1):t._e()],1)])],2)],1)},d=[],p={name:"SHome",props:{initData:{type:Object,default:function(){return{numero:"",objet:"",idcontents:"",idclients:"",proprietaire:"",creaated:"",update_at:""}}},add:{type:Boolean,default:!0},modalAdd:{type:Object,default:function(){return{state:!1}}},edition:{type:Boolean,default:!1},update:{type:Boolean,default:!1}},components:{},data:function(){return{active:!1,isLoading:!1,showInput:!0,alertOk:!1,buttonService:!1,alertText:"Création de telle projet ok",AlertColor:"success",itemClient:[],itemProject:[],nbFacture:"",timer:null}},mounted:function(){this.LoadClient(),this.LoadProject(),this.loadNbFacture()},watch:{initData:{deep:!0,handler:function(){this.edition||this.setNombre()}}},computed:{selectProjectFormat:function(){var t=[];if(this.itemProject.length)for(var e in this.itemProject)t.push({label:this.itemProject[e].titre,value:this.itemProject[e].idcontents});return t},selectOptionFormat:function(){var t=[];if(this.itemClient.length)for(var e in this.itemClient)t.push({label:this.itemClient[e].nom,value:this.itemClient[e].idclient});return t}},methods:{setNombre:function(){var t=this;clearTimeout(t.timer),t.timer=setTimeout((function(){t.loadNbFacture()}),2e3);var e="",n="",i="";this.initData.proprietaire.length&&(n=this.initData.proprietaire),this.initData.idclients.length&&(i=this.initData.idclients),e=this.nbFacture+"-"+n+"-"+i,console.log("foramat",e),this.initData.numero=e},loadNbFacture:function(){var t=this;s["a"].selectInvoice([]).then((function(e){e.length?t.nbFacture=e.length:t.nbFacture="0"}))},LoadClient:function(){var t=this;s["a"].selectClients([]).then((function(e){t.itemClient=e}))},LoadProject:function(){var t=this;console.log("this.initData.idcontents : ",this.initData.idcontents),this.initData.idcontents&&s["a"].selectDatas().then((function(e){t.itemProject=e}))},initNewFacture:function(){this.modalAdd.state=!0},PostNewInitFacture:function(){var t=this;this.isLoading=!0,this.showInput=!1,c["a"].formatAddInvoice(this.initData,this.update).then((function(e){l["a"].post("/gestion-project/save-update",e).then((function(e){e.status?(t.request=e.data[0],t.$emit("addnew-ok"),t.alertOk=!0,t.isLoading=!1,t.edition?t.alertText="Mise à jour  de la facture  n°:"+t.initData.numero+" réussi":t.alertText="sauvegarde de la facture  n°:"+t.initData.numero+" réussi",t.AlertColor="success",t.buttonService=!0):(t.isLoading=!1,t.alertOk=!0,t.alertText="Erreur de sauvegarde",t.AlertColor="danger",t.showInput=!0)})).catch((function(){this.isLoading=!1,this.alertOk=!0,this.alertText="Erreur de sauvegarde",this.AlertColor="danger",this.showInput=!0}))}))}}},f=p,m=(n("a35f"),n("2877")),h=Object(m["a"])(f,u,d,!1,null,null,null),v=h.exports,g={name:"SHome",components:{PopUpFacture:v},data:function(){return{items:[],factureFields:[{key:"numero",label:"N°",_style:"max-width:50px;"},{key:"objet",_style:"min-width:200px; ",filter:!1},{key:"activity"}],isLoading:!0,deleteModal:!1,edition:!0,dataDelete:{},spinner:!1}},mounted:function(){this.LoadFacture()},methods:{DeleteModalOn:function(t){this.dataDelete=t,this.deleteModal=!0},DeleteFacture:function(){var t=this;this.spinner=!0,this.isloading=!0,c["a"].formatDeleteInvoice(this.dataDelete).then((function(e){console.log("delete facture",e),l["a"].post("/gestion-project/save-update",e).then((function(e){console.log("reponse delete",e),e.status?(t.request=e.data[0],t.$emit("addnew-ok"),t.LoadFacture()):console.log("erroree",e.status),t.isloading=!0,t.deleteModal=!1,t.spinner=!1})).catch((function(t){console.log("error",t)}))}))},LoadFacture:function(){var t=this;this.isLoading=!0,s["a"].selectInvoice([]).then((function(e){t.items=e,t.isLoading=!1}))}}},b=g,_=(n("e0d4"),Object(m["a"])(b,a,r,!1,null,null,null)),C=_.exports,j={name:"SHome",components:{FactureList:C,PopUpFacture:v},data:function(){return{modalAdd:!1,active:!1,isLoading:!1,showInput:!0,alertOk:!1,buttonService:!1,alertText:"Création de telle projet ok",AlertColor:"success",itemClient:[],itemProject:[],nbFacture:"",initData:{numero:"",objet:"",idcontents:"",idclients:"",proprietaire:"",creaated:"",update_at:""},timer:null}},mounted:function(){},watch:{},computed:{},methods:{}},w=j,D=Object(m["a"])(w,i,o,!1,null,null,null);e["default"]=D.exports},a35f:function(t,e,n){"use strict";n("a7ca")},a7ca:function(t,e,n){},b8a6:function(t,e,n){"use strict";var i=n("bc3a"),o=n.n(i),a=n("bfb1");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e["a"]=s(s({},a["a"]),{},{TestDomain:"http://gestiontaches.kksa",baseUrl:"http://gestion-taches-vps.habeuk.com",ModeDebug:!0,postOld:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var a={headers:{}};o.a.post(e.baseUrl+t,n,a).then((function(t){i({status:!0,data:t.data,reponse:t})})).catch((function(t){i({status:!1,error:t.response})}))}))},getOld:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var a={headers:{}};o.a.get(e.baseUrl+t,n,a).then((function(t){console.log("Config get success : ",t),i({status:!0,data:t.data,reponse:t})})).catch((function(t){i({status:!1,error:t.response})}))}))},color:function(t,e){var n,i=0;return e>0&&t>0&&(i=100*t/e),n=i<=25?"success":i>25&&i<=50?"info":i>50&&i<=85?"secondary":i>85&&i<=100?"warning":"danger",n}})},d111:function(t,e,n){"use strict";var i=n("c1df"),o=n.n(i);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={formatData:function(t){return new Promise((function(e){console.log("fdate : ",t);var n=[];if(t&&t.titre){var i=o()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),a=o()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix(),r={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"update"};if(t.idcontents&&(r.where=[{column:"idcontents",value:t.idcontents}]),t.date_depart_proposer.length&&t.date_fin_proposer.length){var s={table:"gestion_project_times",fields:{status:t.status,date_depart_proposer:i,date_fin_proposer:a},action:"update",where:[{column:"idcontents",value:t.idcontents}]};1!==parseInt(t.status)||t.date_fin_reel&&""!==t.date_fin_reel||(s.fields.date_fin_reel=o()().unix()),n.push(s)}n.push(r),console.log("ligne",n)}e(n)}))},formatHierarchie:function(t,e){return new Promise((function(n){console.log("fdate : ",e);var i=[];if(t&&t.titre){var o={table:"gestion_project_hierachie",fields:{idcontentsparent:e.id,idcontents:t.idcontents,ordre:e.ordre},action:"update",where:[{column:"idcontents",value:t.idcontents}]};i.push(o),console.log("ligne",i)}n(i)}))},formCard:function(t){var e=[];for(var n in t){var i=t[n];i.cards&&(i.cards=this.formCard(i.cards)),e.push(r(r({},i),{},{open:!1}))}return e},formatAddData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(i){var a=[],r=parseInt(t.status,10);if(n=parseInt(n,10),t.date_depart_proposer.length&&t.date_fin_proposer){var s=o()(t.date_depart_proposer+" "+t.heure_debut,"YYYY-MM-DD  HH:mm").unix(),c=o()(t.date_fin_proposer+" "+t.heure_fin,"YYYY-MM-DD  HH:mm").unix();a.push({table:"gestion_project_times",fields:{date_depart_proposer:s,date_fin_proposer:c,status:r}})}a.push({table:"gestion_project_hierachie",fields:{idcontentsparent:e,ordre:0,level:n}});var l=[];if(t&&t.titre){var u={table:"gestion_project_contents",fields:{text:t.text,titre:t.titre,type:t.type,privaty:t.privaty?1:0},action:"insert"};u.childstable={colum_id_name:"idcontents",tables:a},l.push(u)}i(l)}))},fomatVal:function(t,e){return new Promise((function(n){for(var i in t.idcontents&&(e.idcontents=t.idcontents),e)t[i]&&("date_depart_proposer"===i?(e[i]=o.a.unix(t[i]).format("YYYY-MM-DD"),e.heure_debut=o.a.unix(t[i]).format("HH:mm")):"date_fin_proposer"===i?(e[i]=o.a.unix(t[i]).format("YYYY-MM-DD"),e.heure_fin=o.a.unix(t[i]).format("HH:mm")):e[i]="privaty"===i?"0"==t[i]?0:1:t[i]);n()}))},formatDeleteData:function(t){return new Promise((function(e){var n=[];if(t&&t.titre){var i={table:"gestion_project_contents",fields:{},action:"delete"};t.idcontents&&(i.where=[{column:"idcontents",value:t.idcontents}]),i.childstable={tables:[{table:"gestion_project_times",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]},{table:"gestion_project_hierachie",fields:{},action:"delete",where:[{column:"idcontents",value:t.idcontents}]}]},n.push(i),console.log("ligne",n)}e(n)}))},formatDataClient:function(t){return new Promise((function(e){var n=[];if(t&&t.nom){var i={table:"gestion_project_client",fields:{nom:t.nom,uid:t.uid,prenom:t.prenom,phone:t.phone,adresse:t.adresse,fonction:t.fonction,idsociete:t.idsociete},action:"update"};t.idclient&&(i.where=[{column:"idclient",value:t.idclient}]),n.push(i)}e(n)}))},formatDataSte:function(t){return new Promise((function(e){var n=[];if(t&&t.nom){var i={table:"gestion_project_societe",fields:{nom:t.nom,email:t.email,phone:t.phone,adresse:t.adresse,siteweb:t.siteweb},action:"update"};t.idsociete&&(i.where=[{column:"idsociete",value:t.idsociete}]),n.push(i)}e(n)}))},formatDeleteClient:function(t){return new Promise((function(e){var n=[];if(t.idclient){var i={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idclient",value:t.idclient}]};n.push(i),console.log("ligne 1",n)}else if(t.idsociete){i={table:"gestion_project_client",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};var o={table:"gestion_project_societe",fields:{},action:"delete",where:[{column:"idsociete",value:t.idsociete}]};n.push(i),n.push(o),console.log("ligne2",n)}e(n)}))},formatAddInvoice:function(t,e){return new Promise((function(n){var i=[],a=o()().unix(),r=o()().unix();if(console.log("fadin :",t),t&&t.numero){var s={table:"gestion_project_invoice",fields:{numero:t.numero,idcontents:""!==t.idcontents?t.idcontents:null,idclients:t.idclients,objet:t.objet,creaated:a,proprietaire:t.proprietaire,updated:r}};1==e&&(s.where=[{column:"numero",value:t.numero}],s.action="update"),i.push(s)}n(i)}))},formatDeleteInvoice:function(t){return new Promise((function(e){var n=[];if(t&&t.numero){var i={table:"gestion_project_invoice",fields:{},action:"delete",where:[{column:"numero",value:t.numero}]},o={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoice",value:t.numero}]};n.push(o),n.push(i)}e(n)}))},formatAddInvoiceList:function(t,e){return new Promise((function(n){var i=[];if(t&&t.titre){var o={table:"gestion_project_invoice_list",fields:{titre:t.titre,idcontents:""!==t.idcontents?t.idcontents:null,description:t.description,cout:t.cout,idinvoice:t.idinvoice}};1==e&&(o.where=[{column:"idinvoicelist",value:t.idinvoicelist}],o.action="update"),i.push(o)}n(i)}))},formatDeleteInvoiceList:function(t){return new Promise((function(e){var n=[];if(console.log("fadin :",t),t&&t.idinvoicelist){var i={table:"gestion_project_invoice_list",fields:{},action:"delete",where:[{column:"idinvoicelist",value:t.idinvoicelist}]};n.push(i)}e(n)}))}};e["a"]=c},e0d4:function(t,e,n){"use strict";n("58ae")},f0ae:function(t,e,n){"use strict";var i=n("b8a6");e["a"]={selectDatas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{column:"c.type",operator:"=",value:"project"}];return new Promise((function(e){var n="";if(t.length)for(var o in t)n+=t[o].column+" "+t[o].operator+" '"+t[o].value+"' ";n+=" ORDER BY  c.`idcontents` DESC",n+=" limit 0,50 ",i["a"].post("/gestion-project/select/selectdatas",n).then((function(t){t.status?e(t.data):e([])}))}))},selectTypes:function(){return new Promise((function(t){i["a"].get("/gestion-project/select/project-type").then((function(e){e.status?t(e.data):t([])}))}))},selectProject:function(t){return new Promise((function(e){var n="";if(t.length)for(var o in t)n+=t[o].column+" "+t[o].operator+" '"+t[o].value+"' ";i["a"].post("/gestion-project/select/select-project",n).then((function(t){t.status?e(t.data):e([])}))}))},selectFatureList:function(t){var e=this;return new Promise((function(n){var o="";if(o+=" select * ",o+=" from ",o+=e.formatStringTable("gestion_project_invoice_list"),t.length)for(var a in o+=" WHERE ",t)o+=t[a].column+" "+t[a].operator+" '"+t[a].value+"' ";i["a"].post("/gestion-project/select",o).then((function(t){t.status?n(t.data):n([])}))}))},selectInvoice:function(t){var e=this;return new Promise((function(n){var o="";if(o+=" select * ",o+=" from ",o+=e.formatStringTable("gestion_project_invoice"),t.length)for(var a in o+=" WHERE ",t)o+=t[a].column+" "+t[a].operator+" '"+t[a].value+"' ";i["a"].post("/gestion-project/select",o).then((function(t){t.status?n(t.data):n([])}))}))},selectClients:function(t){var e=this;return new Promise((function(n){var o="";if(o+=" select * ",o+=" from ",o+=e.formatStringTable("gestion_project_client"),t.length)for(var a in o+=" WHERE ",t)o+=t[a].column+" "+t[a].operator+" '"+t[a].value+"' ";o+=" limit 0,50 ",i["a"].post("/gestion-project/select",o).then((function(t){t.status?n(t.data):n([])}))}))},selectSte:function(t){var e=this;return new Promise((function(n){var o="";if(o+=" select * ",o+=" from ",o+=e.formatStringTable("gestion_project_societe"),t.length)for(var a in o+=" WHERE ",t)o+=t[a].column+" "+t[a].operator+" '"+t[a].value+"' ";o+=" limit 0,50 ",i["a"].post("/gestion-project/select",o).then((function(t){t.status?n(t.data):n([])}))}))},selectClient:function(t){var e=this;return new Promise((function(n){var o="";o+=" select * ",o+=" from ",o+=e.formatStringTable(t),o+=" limit 0,50 ",i["a"].post("/gestion-project/select",o).then((function(t){t.status?n(t.data):n([])}))}))},selectAll:function(){return new Promise((function(t){var e="";e+=" c.idcontents is not NULL order by c.update_at DESC limit 0,30 ",i["a"].post("/gestion-project/select/select-project",e).then((function(e){e.status?t(e.data):t([])}))}))},SelectTacheEnours:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{column:"t.status",operator:"=",value:2}];return new Promise((function(e){var n="";if(t.length)for(var o in t)n+=t[o].column+" "+t[o].operator+" '"+t[o].value+"' ";n+=" ORDER BY  c.`idcontents` DESC ",n+=" limit 0,20 ",i["a"].post("/gestion-project/select/select-tache-enours",n).then((function(t){t.status?e(t.data):e([])}))}))},formatStringTable:function(t){return"{"+t+"}"}}}}]);
//# sourceMappingURL=gestionTache.umd.min.5.js.map