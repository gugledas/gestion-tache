(("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]=("undefined"!==typeof self?self:this)["webpackJsonpgestionTache"]||[]).push([[16],{f0ae:function(t,e,n){"use strict";var o=n("b8a6");e["a"]={selectDatas:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{column:"c.type",operator:"=",value:"project"}];return new Promise((function(n){var a="";if(a+=" select ",a+=" c.idcontents, c.text, c.titre, c.created_at, ",a+=" c.update_at, c.type, h.idhierachie, h.idcontentsparent, ",a+=" h.ordre, h.level",a+=" from ",a+=t.formatStringTable("gestion_project_hierachie")+" as h ",a+=" INNER JOIN ",a+=t.formatStringTable("gestion_project_contents")+" as c ",a+=" ON h.idcontents = c.idcontents ",e.length)for(var r in a+=" WHERE ",e)a+=e[r].column+" "+e[r].operator+" '"+e[r].value+"' ";a+=" ORDER BY  c.`idcontents` DESC",a+=" limit 0,50 ",o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectTypes:function(){var t=this;return new Promise((function(e){var n="";n+=" select * ",n+=" from ",n+=t.formatStringTable("gestion_project_type"),n+=" limit 0,50 ",o["a"].post("/gestion-project/select",n).then((function(t){t.status?e(t.data):e([])}))}))},selectProject:function(t){var e=this;return new Promise((function(n){var a="";if(a+=" select * ",a+=" from ",a+=e.formatStringTable("gestion_project_contents"),t.length)for(var r in a+=" WHERE ",t)a+=t[r].column+" "+t[r].operator+" '"+t[r].value+"' ";o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectFatureList:function(t){var e=this;return new Promise((function(n){var a="";if(a+=" select * ",a+=" from ",a+=e.formatStringTable("gestion_project_invoice_list"),t.length)for(var r in a+=" WHERE ",t)a+=t[r].column+" "+t[r].operator+" '"+t[r].value+"' ";o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectInvoice:function(t){var e=this;return new Promise((function(n){var a="";if(a+=" select * ",a+=" from ",a+=e.formatStringTable("gestion_project_invoice"),t.length)for(var r in a+=" WHERE ",t)a+=t[r].column+" "+t[r].operator+" '"+t[r].value+"' ";o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectClients:function(t){var e=this;return new Promise((function(n){var a="";if(a+=" select * ",a+=" from ",a+=e.formatStringTable("gestion_project_client"),t.length)for(var r in a+=" WHERE ",t)a+=t[r].column+" "+t[r].operator+" '"+t[r].value+"' ";a+=" limit 0,50 ",o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectSte:function(t){var e=this;return new Promise((function(n){var a="";if(a+=" select * ",a+=" from ",a+=e.formatStringTable("gestion_project_societe"),t.length)for(var r in a+=" WHERE ",t)a+=t[r].column+" "+t[r].operator+" '"+t[r].value+"' ";a+=" limit 0,50 ",o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectClient:function(t){var e=this;return new Promise((function(n){var a="";a+=" select * ",a+=" from ",a+=e.formatStringTable(t),a+=" limit 0,50 ",o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},selectAll:function(){var t=this;return new Promise((function(e){var n="";n+=" select * ",n+=" from ",n+=t.formatStringTable("gestion_project_contents"),n+=" order by update_at DESC ",n+=" limit 0,50 ",o["a"].post("/gestion-project/select",n).then((function(t){t.status?e(t.data):e([])}))}))},SelectTacheEnours:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{column:"t.status",operator:"=",value:2}];return new Promise((function(n){var a="";if(a+=" select ",a+=" c.idcontents, c.text, c.titre, c.created_at, ",a+=" c.update_at, c.type, h.idhierachie, h.idcontentsparent, ",a+=" h.ordre, h.level, ",a+=" t.status",a+=" from ",a+=t.formatStringTable("gestion_project_hierachie")+" as h ",a+=" INNER JOIN ",a+=t.formatStringTable("gestion_project_contents")+" as c ",a+=" ON h.idcontents = c.idcontents ",a+=" INNER JOIN ",a+=t.formatStringTable("gestion_project_times")+" as t ",a+=" ON t.idcontents = c.idcontents ",e.length)for(var r in a+=" WHERE ",e)a+=e[r].column+" "+e[r].operator+" '"+e[r].value+"' ";a+=" ORDER BY  c.`idcontents` DESC",a+=" limit 0,50 ",o["a"].post("/gestion-project/select",a).then((function(t){t.status?n(t.data):n([])}))}))},formatStringTable:function(t){return"{"+t+"}"}}},fa09:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CRow",t._l(t.projectType,(function(e,o){return n("CCol",{key:o,attrs:{md:"6"}},[n("LastProjectType",{attrs:{title:e.label,name:e.name,isLoading:t.isLoading2}})],1)})),1)],1)},a=[],r=n("4c27"),i=n("bd76"),s=n("f0ae"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CCard",[n("CCardHeader",[t._v(" "+t._s(t.title)+" "),n("div",{staticClass:"card-header-actions"})]),n("CCardBody",{},[n("CDataTable",{staticClass:"m-0  table-borderless ",attrs:{hover:"",responsive:!1,loading:t.isLoading,items:t.items,fields:t.tableFields,header:!1,cleaner:"","table-filter":"","items-per-page-select":"","items-per-page":5,pagination:""},scopedSlots:t._u([{key:"user",fn:function(e){var o=e.item;return n("td",{},[n("div",[n("CLink",{staticClass:"text-decoration-none",attrs:{to:{path:"projets/"+o.idcontents}}},[t._v(" "+t._s(o.titre)+" ")])],1),n("div",{staticClass:"small text-muted mt-1"},[n("span",[[t._v("New")],t._e()],2),t._v(" | Cr√©e le: "+t._s(o.created_at)+" ")])])}},{key:"usage",fn:function(e){var o=e.item;return n("td",{},[n("div",{staticClass:"clearfix"},[n("div",{staticClass:"float-left"}),n("div",{staticClass:"float-right"},[n("small",{staticClass:"text-bold"},[n("strong",[t._v("Updated: ")]),t._v(" "+t._s(o.update_at))])])])])}}])},[n("td",{attrs:{slot:"activity"},slot:"activity"},[n("CRow",{staticClass:"ml-4 d-flex justify-content-arround flex-nowrap"},[n("CLink",{staticClass:"mx-3",attrs:{color:"primary",variant:"ghost",shape:"pill",size:"sm"}},[n("CIcon",{staticClass:"mr-1 text-info ",attrs:{name:"cilList"}})],1)],1)],1)])],1)],1)],1)},l=[],u={props:{name:{type:String,required:!0},title:{type:String,required:!0,default:"title"}},data:function(){return{tableFields:[{key:"user",_style:"min-width:550px;",filter:!1},{key:"usage",_style:"min-width:200px;"},{key:"activity",_style:"width:600px;"}],isLoading:!0,items:[]}},mounted:function(){this.LoadDatasType()},methods:{LoadDatasType:function(){var t=this;if(this.name.length){var e=[{column:"c.type",operator:"=",value:this.name}];this.isLoading2=!0,s["a"].selectDatas(e).then((function(e){console.log("name",t.name),t.items=e,t.isLoading=!1}))}}}},f=u,p=n("2877"),d=Object(p["a"])(f,c,l,!1,null,null,null),m=d.exports;function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={name:"SHome",props:{},components:v(v({},r),{},{LastProjectType:m}),data:function(){return{isLoading:!1,isLoading1:!1,isLoading2:!1,selected:"Month",tableItems:[],itemsProject:[],itemsTache:[],itemsMemos:[],projectType:[]}},mounted:function(){this.LoadProjectType()},computed:{type:function(){var t=[];for(var e in this.projectType)"project"==this.projectType[e].name||this.projectType[e].name,t.push(this.projectType[e]);return t}},methods:{LoadProjectType:function(){var t=this;s["a"].selectTypes().then((function(e){console.log("type : ",e),t.projectType=e}))},hello:function(t){console.log("v",t)},LoadMemosData:function(){var t=this,e=[{column:"c.type",operator:"=",value:"memos"}];this.isLoading2=!0,s["a"].selectDatas(e).then((function(e){t.itemsMemos=e,t.isLoading2=!1}))},LoadTacheData:function(){var t=this,e=[{column:"c.type",operator:"=",value:"tache"}];this.isLoading1=!0,s["a"].selectDatas(e).then((function(e){t.itemsTache=e,t.isLoading1=!1}))},LoadProjectData:function(){var t=this;this.isLoading=!0,s["a"].selectDatas().then((function(e){t.tableItems=e,t.itemsProject=e,t.isLoading=!1}))},color:function(t){var e;return t<=25?e="info":t>25&&t<=50?e="success":t>50&&t<=75?e="warning":t>75&&t<=100&&(e="danger"),e},shuffleArray:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[n],t[n]=o}return t},getShuffledUsersData:function(){return this.shuffleArray(i["a"].slice(0))}}},j=y,_=Object(p["a"])(j,o,a,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=gestionTache.umd.min.16.js.map